import { v } from "./Spinner-BeNoTciJ-DsMN3-m0.js";
import { d as defineComponent, u as useTheme } from "./index.esm-CVE60fla.js";
import { j as j$1 } from "./jsx-runtime-CjQXaSqQ-CjMA1-fF.js";
import { W as Wg } from "./Container-mop-J7T8-BpqPaGKG.js";
import { j } from "./useTimeseries-CKhM5zgf-Dd4vgjj-.js";
import { M as Mt, Y as Yi, X as Xi, L as Le, a as Me, P as Ph, I as Ih, w as wh, x as xh, F as Fd, $ as $d, H as Hd, j as jd } from "./common-Badpcggq-Batnw2Ed.js";
import "./chartjs-adapter-date-fns.esm-vRFmo1LD-Cpw3-dRH.js";
import { c as ce } from "./format-TjzP8gQX-Cs7Vwno2.js";
import { n } from "./hexToRgb-04GwXQzV-CZRIg1xZ.js";
Mt.register(
  Yi,
  Xi,
  Le,
  Me,
  Ph,
  Ih,
  wh,
  xh,
  Fd
);
const P = (e) => {
  var n2;
  const i = useTheme();
  $d(i, "scatter");
  const t = {
    ...e,
    theme: i
  }, { fillGaps: a } = j(t, "desc"), { results: s } = t, l = t.isTimeDimension ? (n2 = s == null ? void 0 : s.data) == null ? void 0 : n2.reduce(a, []) : s == null ? void 0 : s.data, r = k(t, l);
  return /* @__PURE__ */ j$1.jsx(Wg, { ...t, className: "overflow-y-hidden", children: /* @__PURE__ */ j$1.jsx(Hd, { height: "100%", options: X(t, r), data: r }) });
};
function X(e, i) {
  const { theme: t } = e;
  return i.datasets, {
    responsive: true,
    maintainAspectRatio: false,
    animation: {
      duration: 400,
      easing: "linear"
    },
    scales: {
      y: {
        min: e.yAxisMin,
        grid: {
          display: false
        },
        afterDataLimits: function(a) {
          jd(a, e.results, [...e.metrics], e.dps);
        },
        title: {
          display: !!e.yAxisTitle,
          text: e.yAxisTitle
        }
      },
      x: {
        reverse: e.reverseXAxis,
        type: e.isTimeDimension ? "time" : "category",
        time: {
          round: e.granularity,
          isoWeekday: true,
          displayFormats: t.dateFormats,
          unit: e.granularity
        },
        grid: {
          display: false
        },
        title: {
          display: !!e.xAxisTitle,
          text: e.xAxisTitle
        }
      }
    },
    layout: {
      padding: {
        left: 0,
        right: 0,
        top: e.showLabels ? 30 : 0,
        bottom: 0
      }
    },
    plugins: {
      datalabels: {
        display: e.showLabels ? "auto" : false,
        anchor: "end",
        align: "end",
        backgroundColor: t.charts.scatter.labels.backgroundColor,
        borderRadius: t.charts.scatter.labels.borderRadius,
        color: t.charts.scatter.labels.color,
        font: {
          size: t.charts.scatter.labels.font.size,
          weight: t.charts.scatter.labels.font.weight
        },
        formatter: (a, s) => {
          const l = s.datasetIndex, r = e.metrics[l];
          return a ? ce(a.y, {
            type: "number",
            dps: e.dps,
            meta: r == null ? void 0 : r.meta
          }) : null;
        }
      },
      tooltip: {
        //https://www.chartjs.org/docs/latest/configuration/tooltip.html
        callbacks: {
          label: function(a) {
            let s = a.dataset.label || "";
            const l = a.datasetIndex, r = e.metrics[l];
            return a.parsed.y !== null && (s += `: ${ce(`${a.parsed.y}`, {
              type: "number",
              dps: e.dps,
              meta: r == null ? void 0 : r.meta
            })}`), s;
          }
        }
      },
      legend: {
        display: e.showLegend,
        position: "bottom",
        labels: {
          usePointStyle: true,
          boxHeight: 10
        }
      }
    }
  };
}
function k(e, i) {
  const { theme: t } = e;
  return {
    datasets: e.metrics.map((a, s) => ({
      label: a.title,
      data: (i == null ? void 0 : i.map((l) => ({
        x: l[e.xAxis.name],
        y: parseFloat(l[a.name]) || 0
      }))) || [],
      backgroundColor: n(t.charts.colors[s], 0.8)
    }))
  };
}
const G = {
  name: "ScatterChart",
  label: "Scatter chart",
  classNames: ["inside-card"],
  category: "Charts: essentials",
  inputs: [
    {
      name: "ds",
      type: "dataset",
      label: "Dataset",
      description: "Dataset",
      defaultValue: false,
      category: "Chart data"
    },
    {
      name: "xAxis",
      type: "dimension",
      label: "X-Axis",
      config: {
        dataset: "ds",
        hideGranularity: true
      },
      category: "Chart data"
    },
    {
      name: "metrics",
      type: "measure",
      label: "Metrics",
      array: true,
      config: {
        dataset: "ds",
        hideGranularity: true
      },
      category: "Chart data"
    },
    {
      name: "limit",
      type: "number",
      label: "Limit results",
      category: "Chart data"
    },
    {
      name: "granularity",
      type: "granularity",
      label: "Granularity",
      defaultValue: "week",
      category: "Variables to configure"
    },
    {
      name: "title",
      type: "string",
      label: "Title",
      description: "The title for the chart",
      category: "Chart settings"
    },
    {
      name: "description",
      type: "string",
      label: "Description",
      description: "The description for the chart",
      category: "Chart settings"
    },
    {
      name: "showLegend",
      type: "boolean",
      label: "Show Legend",
      category: "Chart settings",
      defaultValue: true
    },
    {
      name: "showLabels",
      type: "boolean",
      label: "Show Labels",
      category: "Chart settings",
      defaultValue: false
    },
    {
      name: "reverseXAxis",
      type: "boolean",
      label: "Reverse X Axis",
      category: "Chart settings",
      defaultValue: false
    },
    {
      name: "xAxisTitle",
      type: "string",
      label: "X-Axis Title",
      category: "Chart settings"
    },
    {
      name: "yAxisTitle",
      type: "string",
      label: "Y-Axis Title",
      category: "Chart settings"
    },
    {
      name: "yAxisMin",
      type: "number",
      label: "Y-Axis minimum value",
      category: "Chart settings"
    },
    {
      name: "dps",
      type: "number",
      label: "Decimal Places",
      category: "Formatting"
    },
    {
      name: "enableDownloadAsCSV",
      type: "boolean",
      label: "Show download as CSV",
      category: "Export options",
      defaultValue: true
    },
    {
      name: "enableDownloadAsPNG",
      type: "boolean",
      label: "Show download as PNG",
      category: "Export options",
      defaultValue: true
    }
  ]
}, Y = defineComponent(P, G, {
  props: (e) => {
    var a;
    const i = [];
    i.push({
      property: e.xAxis,
      direction: "desc"
    });
    const t = e.xAxis.nativeType === "time";
    return {
      ...e,
      reverseXAxis: e.reverseXAxis,
      isTimeDimension: t,
      results: t ? v({
        from: e.ds,
        orderBy: i,
        select: [
          { dimension: (a = e.xAxis) == null ? void 0 : a.name, granularity: e.granularity },
          e.metrics
        ],
        limit: e.limit || 50
      }) : v({
        from: e.ds,
        select: [e.xAxis, e.metrics],
        limit: e.limit || 50
      })
    };
  }
});
export {
  Y as default,
  G as meta
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LUNFX0pqaDBULmpzIiwic291cmNlcyI6WyIvVXNlcnMvY2hyaXN0b3BoZXJjYXJsc29uL2ZsdWlkL2Ryb3BsZXQtZW1iZWRkYWJsZS9hcHAvZnJvbnRlbmQvZW1iZWRkYWJsZS9ub2RlX21vZHVsZXMvQGVtYmVkZGFibGUuY29tL3ZhbmlsbGEtY29tcG9uZW50cy9kaXN0L1NjYXR0ZXJDaGFydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsIGFzIG8gfSBmcm9tIFwiLi9pbmRleC5lc20tSkFoX0sxVkcuanNcIjtcbmltcG9ydCB7IHVzZVRoZW1lIGFzIGQsIGRlZmluZUNvbXBvbmVudCBhcyB5IH0gZnJvbSBcIkBlbWJlZGRhYmxlLmNvbS9yZWFjdFwiO1xuaW1wb3J0IHsgaiBhcyBtIH0gZnJvbSBcIi4vanN4LXJ1bnRpbWUtQ2pRWGFTcVEuanNcIjtcbmltcG9ydCB7IEMgYXMgZyB9IGZyb20gXCIuL0NvbnRhaW5lci1tb3AtSjdUOC5qc1wiO1xuaW1wb3J0IHsgdSB9IGZyb20gXCIuL3VzZVRpbWVzZXJpZXMtQ0toTTV6Z2YuanNcIjtcbmltcG9ydCB7IEMgYXMgaCwgYSBhcyBiLCBMIGFzIHgsIFQgYXMgZiwgUCBhcyBwLCBwIGFzIEMsIGMgYXMgQSwgZCBhcyBULCBpIGFzIFMsIGUgYXMgdywgcyBhcyB2LCBTIGFzIEQsIGcgYXMgTCB9IGZyb20gXCIuL2NvbW1vbi1CYWRwY2dncS5qc1wiO1xuaW1wb3J0IFwiLi9jaGFydGpzLWFkYXB0ZXItZGF0ZS1mbnMuZXNtLXZSRm1vMUxELmpzXCI7XG5pbXBvcnQgeyBmIGFzIGMgfSBmcm9tIFwiLi9mb3JtYXQtVGp6UDhnUVguanNcIjtcbmltcG9ydCB7IGggYXMgViB9IGZyb20gXCIuL2hleFRvUmdiLTA0R3dYUXpWLmpzXCI7XG5oLnJlZ2lzdGVyKFxuICBiLFxuICB4LFxuICBmLFxuICBwLFxuICBDLFxuICBBLFxuICBULFxuICBTLFxuICB3XG4pO1xuY29uc3QgUCA9IChlKSA9PiB7XG4gIHZhciBuO1xuICBjb25zdCBpID0gZCgpO1xuICB2KGksIFwic2NhdHRlclwiKTtcbiAgY29uc3QgdCA9IHtcbiAgICAuLi5lLFxuICAgIHRoZW1lOiBpXG4gIH0sIHsgZmlsbEdhcHM6IGEgfSA9IHUodCwgXCJkZXNjXCIpLCB7IHJlc3VsdHM6IHMgfSA9IHQsIGwgPSB0LmlzVGltZURpbWVuc2lvbiA/IChuID0gcyA9PSBudWxsID8gdm9pZCAwIDogcy5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogbi5yZWR1Y2UoYSwgW10pIDogcyA9PSBudWxsID8gdm9pZCAwIDogcy5kYXRhLCByID0gayh0LCBsKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBtLmpzeChnLCB7IC4uLnQsIGNsYXNzTmFtZTogXCJvdmVyZmxvdy15LWhpZGRlblwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIG0uanN4KEQsIHsgaGVpZ2h0OiBcIjEwMCVcIiwgb3B0aW9uczogWCh0LCByKSwgZGF0YTogciB9KSB9KTtcbn07XG5mdW5jdGlvbiBYKGUsIGkpIHtcbiAgY29uc3QgeyB0aGVtZTogdCB9ID0gZTtcbiAgcmV0dXJuIGkuZGF0YXNldHMsIHtcbiAgICByZXNwb25zaXZlOiAhMCxcbiAgICBtYWludGFpbkFzcGVjdFJhdGlvOiAhMSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICBlYXNpbmc6IFwibGluZWFyXCJcbiAgICB9LFxuICAgIHNjYWxlczoge1xuICAgICAgeToge1xuICAgICAgICBtaW46IGUueUF4aXNNaW4sXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICBkaXNwbGF5OiAhMVxuICAgICAgICB9LFxuICAgICAgICBhZnRlckRhdGFMaW1pdHM6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBMKGEsIGUucmVzdWx0cywgWy4uLmUubWV0cmljc10sIGUuZHBzKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiAhIWUueUF4aXNUaXRsZSxcbiAgICAgICAgICB0ZXh0OiBlLnlBeGlzVGl0bGVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHg6IHtcbiAgICAgICAgcmV2ZXJzZTogZS5yZXZlcnNlWEF4aXMsXG4gICAgICAgIHR5cGU6IGUuaXNUaW1lRGltZW5zaW9uID8gXCJ0aW1lXCIgOiBcImNhdGVnb3J5XCIsXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICByb3VuZDogZS5ncmFudWxhcml0eSxcbiAgICAgICAgICBpc29XZWVrZGF5OiAhMCxcbiAgICAgICAgICBkaXNwbGF5Rm9ybWF0czogdC5kYXRlRm9ybWF0cyxcbiAgICAgICAgICB1bml0OiBlLmdyYW51bGFyaXR5XG4gICAgICAgIH0sXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICBkaXNwbGF5OiAhMVxuICAgICAgICB9LFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICEhZS54QXhpc1RpdGxlLFxuICAgICAgICAgIHRleHQ6IGUueEF4aXNUaXRsZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYXlvdXQ6IHtcbiAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHRvcDogZS5zaG93TGFiZWxzID8gMzAgOiAwLFxuICAgICAgICBib3R0b206IDBcbiAgICAgIH1cbiAgICB9LFxuICAgIHBsdWdpbnM6IHtcbiAgICAgIGRhdGFsYWJlbHM6IHtcbiAgICAgICAgZGlzcGxheTogZS5zaG93TGFiZWxzID8gXCJhdXRvXCIgOiAhMSxcbiAgICAgICAgYW5jaG9yOiBcImVuZFwiLFxuICAgICAgICBhbGlnbjogXCJlbmRcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0LmNoYXJ0cy5zY2F0dGVyLmxhYmVscy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJvcmRlclJhZGl1czogdC5jaGFydHMuc2NhdHRlci5sYWJlbHMuYm9yZGVyUmFkaXVzLFxuICAgICAgICBjb2xvcjogdC5jaGFydHMuc2NhdHRlci5sYWJlbHMuY29sb3IsXG4gICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICBzaXplOiB0LmNoYXJ0cy5zY2F0dGVyLmxhYmVscy5mb250LnNpemUsXG4gICAgICAgICAgd2VpZ2h0OiB0LmNoYXJ0cy5zY2F0dGVyLmxhYmVscy5mb250LndlaWdodFxuICAgICAgICB9LFxuICAgICAgICBmb3JtYXR0ZXI6IChhLCBzKSA9PiB7XG4gICAgICAgICAgY29uc3QgbCA9IHMuZGF0YXNldEluZGV4LCByID0gZS5tZXRyaWNzW2xdO1xuICAgICAgICAgIHJldHVybiBhID8gYyhhLnksIHtcbiAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICBkcHM6IGUuZHBzLFxuICAgICAgICAgICAgbWV0YTogciA9PSBudWxsID8gdm9pZCAwIDogci5tZXRhXG4gICAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdG9vbHRpcDoge1xuICAgICAgICAvL2h0dHBzOi8vd3d3LmNoYXJ0anMub3JnL2RvY3MvbGF0ZXN0L2NvbmZpZ3VyYXRpb24vdG9vbHRpcC5odG1sXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICBsZXQgcyA9IGEuZGF0YXNldC5sYWJlbCB8fCBcIlwiO1xuICAgICAgICAgICAgY29uc3QgbCA9IGEuZGF0YXNldEluZGV4LCByID0gZS5tZXRyaWNzW2xdO1xuICAgICAgICAgICAgcmV0dXJuIGEucGFyc2VkLnkgIT09IG51bGwgJiYgKHMgKz0gYDogJHtjKGAke2EucGFyc2VkLnl9YCwge1xuICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICBkcHM6IGUuZHBzLFxuICAgICAgICAgICAgICBtZXRhOiByID09IG51bGwgPyB2b2lkIDAgOiByLm1ldGFcbiAgICAgICAgICAgIH0pfWApLCBzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxlZ2VuZDoge1xuICAgICAgICBkaXNwbGF5OiBlLnNob3dMZWdlbmQsXG4gICAgICAgIHBvc2l0aW9uOiBcImJvdHRvbVwiLFxuICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICB1c2VQb2ludFN0eWxlOiAhMCxcbiAgICAgICAgICBib3hIZWlnaHQ6IDEwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBrKGUsIGkpIHtcbiAgY29uc3QgeyB0aGVtZTogdCB9ID0gZTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhc2V0czogZS5tZXRyaWNzLm1hcCgoYSwgcykgPT4gKHtcbiAgICAgIGxhYmVsOiBhLnRpdGxlLFxuICAgICAgZGF0YTogKGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkubWFwKChsKSA9PiAoe1xuICAgICAgICB4OiBsW2UueEF4aXMubmFtZV0sXG4gICAgICAgIHk6IHBhcnNlRmxvYXQobFthLm5hbWVdKSB8fCAwXG4gICAgICB9KSkpIHx8IFtdLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBWKHQuY2hhcnRzLmNvbG9yc1tzXSwgMC44KVxuICAgIH0pKVxuICB9O1xufVxuY29uc3QgRyA9IHtcbiAgbmFtZTogXCJTY2F0dGVyQ2hhcnRcIixcbiAgbGFiZWw6IFwiU2NhdHRlciBjaGFydFwiLFxuICBjbGFzc05hbWVzOiBbXCJpbnNpZGUtY2FyZFwiXSxcbiAgY2F0ZWdvcnk6IFwiQ2hhcnRzOiBlc3NlbnRpYWxzXCIsXG4gIGlucHV0czogW1xuICAgIHtcbiAgICAgIG5hbWU6IFwiZHNcIixcbiAgICAgIHR5cGU6IFwiZGF0YXNldFwiLFxuICAgICAgbGFiZWw6IFwiRGF0YXNldFwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiRGF0YXNldFwiLFxuICAgICAgZGVmYXVsdFZhbHVlOiAhMSxcbiAgICAgIGNhdGVnb3J5OiBcIkNoYXJ0IGRhdGFcIlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJ4QXhpc1wiLFxuICAgICAgdHlwZTogXCJkaW1lbnNpb25cIixcbiAgICAgIGxhYmVsOiBcIlgtQXhpc1wiLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGRhdGFzZXQ6IFwiZHNcIixcbiAgICAgICAgaGlkZUdyYW51bGFyaXR5OiAhMFxuICAgICAgfSxcbiAgICAgIGNhdGVnb3J5OiBcIkNoYXJ0IGRhdGFcIlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJtZXRyaWNzXCIsXG4gICAgICB0eXBlOiBcIm1lYXN1cmVcIixcbiAgICAgIGxhYmVsOiBcIk1ldHJpY3NcIixcbiAgICAgIGFycmF5OiAhMCxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBkYXRhc2V0OiBcImRzXCIsXG4gICAgICAgIGhpZGVHcmFudWxhcml0eTogITBcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yeTogXCJDaGFydCBkYXRhXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwibGltaXRcIixcbiAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICBsYWJlbDogXCJMaW1pdCByZXN1bHRzXCIsXG4gICAgICBjYXRlZ29yeTogXCJDaGFydCBkYXRhXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwiZ3JhbnVsYXJpdHlcIixcbiAgICAgIHR5cGU6IFwiZ3JhbnVsYXJpdHlcIixcbiAgICAgIGxhYmVsOiBcIkdyYW51bGFyaXR5XCIsXG4gICAgICBkZWZhdWx0VmFsdWU6IFwid2Vla1wiLFxuICAgICAgY2F0ZWdvcnk6IFwiVmFyaWFibGVzIHRvIGNvbmZpZ3VyZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInRpdGxlXCIsXG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgbGFiZWw6IFwiVGl0bGVcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB0aXRsZSBmb3IgdGhlIGNoYXJ0XCIsXG4gICAgICBjYXRlZ29yeTogXCJDaGFydCBzZXR0aW5nc1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcImRlc2NyaXB0aW9uXCIsXG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgbGFiZWw6IFwiRGVzY3JpcHRpb25cIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBkZXNjcmlwdGlvbiBmb3IgdGhlIGNoYXJ0XCIsXG4gICAgICBjYXRlZ29yeTogXCJDaGFydCBzZXR0aW5nc1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInNob3dMZWdlbmRcIixcbiAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgbGFiZWw6IFwiU2hvdyBMZWdlbmRcIixcbiAgICAgIGNhdGVnb3J5OiBcIkNoYXJ0IHNldHRpbmdzXCIsXG4gICAgICBkZWZhdWx0VmFsdWU6ICEwXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInNob3dMYWJlbHNcIixcbiAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgbGFiZWw6IFwiU2hvdyBMYWJlbHNcIixcbiAgICAgIGNhdGVnb3J5OiBcIkNoYXJ0IHNldHRpbmdzXCIsXG4gICAgICBkZWZhdWx0VmFsdWU6ICExXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInJldmVyc2VYQXhpc1wiLFxuICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICBsYWJlbDogXCJSZXZlcnNlIFggQXhpc1wiLFxuICAgICAgY2F0ZWdvcnk6IFwiQ2hhcnQgc2V0dGluZ3NcIixcbiAgICAgIGRlZmF1bHRWYWx1ZTogITFcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwieEF4aXNUaXRsZVwiLFxuICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIGxhYmVsOiBcIlgtQXhpcyBUaXRsZVwiLFxuICAgICAgY2F0ZWdvcnk6IFwiQ2hhcnQgc2V0dGluZ3NcIlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJ5QXhpc1RpdGxlXCIsXG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgbGFiZWw6IFwiWS1BeGlzIFRpdGxlXCIsXG4gICAgICBjYXRlZ29yeTogXCJDaGFydCBzZXR0aW5nc1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcInlBeGlzTWluXCIsXG4gICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgbGFiZWw6IFwiWS1BeGlzIG1pbmltdW0gdmFsdWVcIixcbiAgICAgIGNhdGVnb3J5OiBcIkNoYXJ0IHNldHRpbmdzXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwiZHBzXCIsXG4gICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgbGFiZWw6IFwiRGVjaW1hbCBQbGFjZXNcIixcbiAgICAgIGNhdGVnb3J5OiBcIkZvcm1hdHRpbmdcIlxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJlbmFibGVEb3dubG9hZEFzQ1NWXCIsXG4gICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgIGxhYmVsOiBcIlNob3cgZG93bmxvYWQgYXMgQ1NWXCIsXG4gICAgICBjYXRlZ29yeTogXCJFeHBvcnQgb3B0aW9uc1wiLFxuICAgICAgZGVmYXVsdFZhbHVlOiAhMFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJlbmFibGVEb3dubG9hZEFzUE5HXCIsXG4gICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgIGxhYmVsOiBcIlNob3cgZG93bmxvYWQgYXMgUE5HXCIsXG4gICAgICBjYXRlZ29yeTogXCJFeHBvcnQgb3B0aW9uc1wiLFxuICAgICAgZGVmYXVsdFZhbHVlOiAhMFxuICAgIH1cbiAgXVxufSwgWSA9IHkoUCwgRywge1xuICBwcm9wczogKGUpID0+IHtcbiAgICB2YXIgYTtcbiAgICBjb25zdCBpID0gW107XG4gICAgaS5wdXNoKHtcbiAgICAgIHByb3BlcnR5OiBlLnhBeGlzLFxuICAgICAgZGlyZWN0aW9uOiBcImRlc2NcIlxuICAgIH0pO1xuICAgIGNvbnN0IHQgPSBlLnhBeGlzLm5hdGl2ZVR5cGUgPT09IFwidGltZVwiO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5lLFxuICAgICAgcmV2ZXJzZVhBeGlzOiBlLnJldmVyc2VYQXhpcyxcbiAgICAgIGlzVGltZURpbWVuc2lvbjogdCxcbiAgICAgIHJlc3VsdHM6IHQgPyBvKHtcbiAgICAgICAgZnJvbTogZS5kcyxcbiAgICAgICAgb3JkZXJCeTogaSxcbiAgICAgICAgc2VsZWN0OiBbXG4gICAgICAgICAgeyBkaW1lbnNpb246IChhID0gZS54QXhpcykgPT0gbnVsbCA/IHZvaWQgMCA6IGEubmFtZSwgZ3JhbnVsYXJpdHk6IGUuZ3JhbnVsYXJpdHkgfSxcbiAgICAgICAgICBlLm1ldHJpY3NcbiAgICAgICAgXSxcbiAgICAgICAgbGltaXQ6IGUubGltaXQgfHwgNTBcbiAgICAgIH0pIDogbyh7XG4gICAgICAgIGZyb206IGUuZHMsXG4gICAgICAgIHNlbGVjdDogW2UueEF4aXMsIGUubWV0cmljc10sXG4gICAgICAgIGxpbWl0OiBlLmxpbWl0IHx8IDUwXG4gICAgICB9KVxuICAgIH07XG4gIH1cbn0pO1xuZXhwb3J0IHtcbiAgWSBhcyBkZWZhdWx0LFxuICBHIGFzIG1ldGFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2F0dGVyQ2hhcnQuanMubWFwXG4iXSwibmFtZXMiOlsiaCIsImIiLCJ4IiwiZiIsInAiLCJDIiwiQSIsIlQiLCJTIiwidyIsIm4iLCJkIiwidiIsInUiLCJtIiwiZyIsIkQiLCJMIiwiYyIsIlYiLCJ5IiwibyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU0FBLEdBQUU7QUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUFBQSxFQUNBQztBQUNGO0FBQ0EsTUFBTSxJQUFJLENBQUMsTUFBTTtBQUNmLE1BQUlDO0FBQ0osUUFBTSxJQUFJQyxTQUFDO0FBQ1hDLEtBQUUsR0FBRyxTQUFTO0FBQ2QsUUFBTSxJQUFJO0FB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
