{"version":3,"file":"NumberInput-CTTRzrcL-D1ve0czF.js","sources":["../../../node_modules/@embeddable.com/vanilla-components/src/components/vanilla/controls/NumberInput/NumberInput.emb.ts","../../../node_modules/@embeddable.com/vanilla-components/src/components/vanilla/controls/NumberInput/index.tsx"],"sourcesContent":["import { Value } from '@embeddable.com/core';\nimport { EmbeddedComponentMeta, Inputs, defineComponent } from '@embeddable.com/react';\n\n\n\nimport Component from './index';\n\nexport const meta = {\n  name: 'NumberInput',\n  label: 'Number input',\n  defaultWidth: 300,\n  defaultHeight: 80,\n  category: 'Controls: inputs & dropdowns',\n  inputs: [\n    {\n      name: 'title',\n      type: 'string',\n      label: 'Title',\n      description: 'The title',\n      category: 'Settings'\n    },\n    {\n      name: 'value',\n      type: 'number',\n      label: 'Value',\n      category: 'Pre-configured variables'\n    },\n    {\n      name: 'placeholder',\n      type: 'string',\n      label: 'Placeholder',\n      defaultValue: 'E.g. 3',\n      category: 'Settings'\n    }\n  ],\n  events: [\n    {\n      name: 'onChange',\n      label: 'Change',\n      properties: [\n        {\n          name: 'value',\n          type: 'number'\n        }\n      ]\n    }\n  ],\n  variables: [\n    {\n      name: 'Number Value',\n      type: 'number',\n      defaultValue: Value.noFilter(),\n      inputs: ['value'],\n      events: [{ name: 'onChange', property: 'value' }]\n    }\n  ]\n} as const satisfies EmbeddedComponentMeta;\n\nexport default defineComponent(Component, meta, {\n  props: (inputs: Inputs<typeof meta>) => ({\n    ...inputs\n  }),\n  events: {\n    onChange: (value) => {\n      const noValue = typeof value !== 'number' && !value;\n\n      return { value: noValue ? Value.noFilter() : parseFloat(`${value}`) };\n    }\n  }\n});","import React, { useEffect, useRef, useState } from 'react';\n\nimport Container from '../../Container';\nimport { ClearIcon } from '../../icons';\nimport { Theme } from '../../../../themes/theme';\nimport { useTheme } from '@embeddable.com/react';\n\ntype Props = {\n  onChange: (v: string) => void;\n  value: number;\n  title: string;\n  placeholder: string;\n};\n\nexport default (props: Props) => {\n  const ref = useRef<HTMLInputElement | null>(null);\n  const [value, setValue] = useState(`${props.value}`);\n  let timeout: number | null = null;\n\n  const theme: Theme = useTheme() as Theme;\n\n  useEffect(() => {\n    setValue(`${props.value}`);\n  }, [props.value]);\n\n  return (\n    <Container title={props.title}>\n      <div\n        className={`\n          border\n          h-10\n          pr-8\n          relative\n          w-full\n          bg-[color:--embeddable-controls-backgrounds-colors-soft]\n          border-[color:--embeddable-controls-borders-colors-normal]\n          rounded-[--embeddable-controls-borders-radius]\n        `}\n      >\n        <input\n          ref={ref}\n          type=\"number\"\n          placeholder={props.placeholder}\n          className={`\n            border-0\n            h-full\n            leading-10\n            outline-none\n            px-3\n            w-full\n            bg-[color:--embeddable-controls-backgrounds-colors-transparent]\n            rounded-[--embeddable-controls-borders-radius]\n          `}\n          onChange={(e) => {\n            setValue(e.target.value);\n            if (timeout) {\n              clearTimeout(timeout);\n            }\n            timeout = window.setTimeout(() => {\n              props.onChange(e.target.value);\n            }, 1000);\n          }}\n          defaultValue={value}\n        />\n        {!!value && (\n          <div\n            onClick={() => {\n              setValue('');\n              props.onChange('');\n              ref.current!.value = '';\n              ref.current?.focus();\n            }}\n            className=\"opacity-50 hover:opacity-100 absolute w-10 right-0 top-0 h-full cursor-pointer group flex items-center justify-center\"\n          >\n            <ClearIcon />\n          </div>\n        )}\n      </div>\n    </Container>\n  );\n};\n"],"names":["value","Value","inputs","NumberInput_emb","defineComponent","Component","meta","ClearIcon","setValue","props","ref","_a","jsx","e","timeout","jsxs","Container","useTheme","useEffect","useRef","useState"],"mappings":"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"}