{"version":3,"file":"KPIChartText-CRdlKwGF-Bq2qq6uh.js","sources":["../../../node_modules/@embeddable.com/vanilla-components/src/components/vanilla/charts/KPIChart/KPIChartText.emb.ts"],"sourcesContent":["import { EmbeddableType, loadData } from '@embeddable.com/core';\nimport { EmbeddedComponentMeta, Inputs, defineComponent } from '@embeddable.com/react';\n\nimport { SortDirection } from '../../../../enums/SortDirection';\nimport SortDirectionType from '../../../../types/SortDirection.type.emb';\nimport Component from './index';\n\nexport const meta = {\n  name: 'KPIChartText',\n  label: 'KPI text',\n  defaultWidth: 300,\n  defaultHeight: 150,\n  classNames: ['inside-card'],\n  category: 'Charts: essentials',\n  inputs: [\n    {\n      name: 'ds',\n      type: 'dataset',\n      label: 'Dataset',\n      description: 'Dataset',\n      defaultValue: false,\n      category: 'Chart data',\n    },\n    {\n      name: 'dimension',\n      type: 'dimension',\n      label: 'Value to display',\n      config: {\n        dataset: 'ds',\n      },\n      category: 'Chart data',\n    },\n    {\n      name: 'metric',\n      type: 'measure',\n      label: 'Show top value by',\n      config: {\n        dataset: 'ds',\n      },\n      category: 'Chart data',\n    },\n    {\n      name: 'rowSortDirection',\n      type: SortDirectionType,\n      defaultValue: SortDirection.DESCENDING,\n      label: 'Sort direction',\n      category: 'Chart data',\n    },\n    {\n      name: 'title',\n      type: 'string',\n      label: 'Title',\n      description: 'The title for the chart',\n      category: 'Chart settings',\n    },\n    {\n      name: 'description',\n      type: 'string',\n      label: 'Description',\n      description: 'The description for the chart',\n      category: 'Chart settings',\n    },\n    {\n      name: 'displayMetric',\n      type: 'boolean',\n      label: 'Display metric',\n      description: 'Display the metric',\n      defaultValue: true,\n      category: 'Chart settings',\n    },\n    {\n      name: 'fontSize',\n      type: 'number',\n      label: 'Text size in pixels',\n      defaultValue: 32,\n      category: 'Formatting',\n    },\n    {\n      name: 'dps',\n      type: 'number',\n      label: 'Metric decimal places',\n      category: 'Formatting',\n    },\n    {\n      name: 'enableDownloadAsCSV',\n      type: 'boolean',\n      label: 'Show download as CSV',\n      category: 'Export options',\n      defaultValue: false,\n    },\n    {\n      name: 'enableDownloadAsPNG',\n      type: 'boolean',\n      label: 'Show download as PNG',\n      category: 'Export options',\n      defaultValue: false,\n    },\n  ],\n} as const satisfies EmbeddedComponentMeta;\n\nexport default defineComponent(Component, meta, {\n  props: (inputs: Inputs<typeof meta>) => {\n    const defaultSortDirection = inputs.rowSortDirection === 'Ascending' ? 'asc' : 'desc';\n\n    return {\n      ...inputs,\n      results: loadData({\n        from: inputs.ds,\n        select: [inputs.metric, inputs.dimension],\n        orderBy: [\n          {\n            property: inputs.metric,\n            direction: defaultSortDirection,\n          },\n        ],\n        limit: 1,\n      }),\n    };\n  },\n});\n"],"names":["defaultSortDirection","inputs","loadData","KPIChartText_emb","defineComponent","Component","meta","SortDirectionType","i","SortDirection"],"mappings":"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"}