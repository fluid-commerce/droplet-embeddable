{"version":3,"file":"TimeSeriesBarChart-CNUgNXz6-DXfaFCe4.js","sources":["../../../node_modules/@embeddable.com/vanilla-components/src/components/vanilla/charts/BarChart/TimeSeriesBarChart.emb.ts"],"sourcesContent":["import { loadData } from '@embeddable.com/core';\nimport { EmbeddedComponentMeta, Inputs, defineComponent } from '@embeddable.com/react';\n\nimport Component from './index';\n\nexport const meta = {\n  name: 'TimeSeriesBarChart',\n  label: 'Bar chart (time-series)',\n  classNames: ['inside-card'],\n  category: 'Charts: time-series',\n  inputs: [\n    {\n      name: 'ds',\n      type: 'dataset',\n      label: 'Dataset',\n      description: 'Dataset',\n      defaultValue: false,\n      category: 'Chart data',\n    },\n    {\n      name: 'xAxis',\n      type: 'dimension',\n      label: 'X-Axis',\n      config: {\n        dataset: 'ds',\n        supportedTypes: ['time'],\n        hideGranularity: true,\n      },\n      category: 'Chart data',\n    },\n    {\n      name: 'metrics',\n      type: 'measure',\n      array: true,\n      label: 'Metrics',\n      config: {\n        dataset: 'ds',\n      },\n      category: 'Chart data',\n    },\n    {\n      name: 'lineMetrics',\n      type: 'measure',\n      array: true,\n      label: 'Add a line(s)',\n      config: {\n        dataset: 'ds',\n      },\n      category: 'Optional chart data',\n    },\n    {\n      name: 'showSecondYAxis',\n      type: 'boolean',\n      label: 'Show 2nd axis',\n      category: 'Optional chart data',\n      defaultValue: false,\n    },\n    {\n      name: 'secondAxisTitle',\n      type: 'string',\n      label: '2nd axis title',\n      description: 'The title for the chart',\n      category: 'Optional chart data',\n    },\n    {\n      name: 'granularity',\n      type: 'granularity',\n      label: 'Granularity',\n      defaultValue: 'week',\n      category: 'Variables to configure',\n    },\n    {\n      name: 'title',\n      type: 'string',\n      label: 'Title',\n      description: 'The title for the chart',\n      category: 'Chart settings',\n    },\n    {\n      name: 'description',\n      type: 'string',\n      label: 'Description',\n      description: 'The description for the chart',\n      category: 'Chart settings',\n    },\n    {\n      name: 'showLegend',\n      type: 'boolean',\n      label: 'Show Legend',\n      category: 'Chart settings',\n      defaultValue: true,\n    },\n    {\n      name: 'showLabels',\n      type: 'boolean',\n      label: 'Show Labels',\n      category: 'Chart settings',\n      defaultValue: false,\n    },\n    {\n      name: 'displayHorizontally',\n      type: 'boolean',\n      label: 'Display Horizontally',\n      category: 'Chart settings',\n      defaultValue: false,\n    },\n    {\n      name: 'stackMetrics',\n      type: 'boolean',\n      label: 'Stack Metrics',\n      category: 'Chart settings',\n      defaultValue: false,\n    },\n    {\n      name: 'xAxisTitle',\n      type: 'string',\n      label: 'X-Axis Title',\n      category: 'Chart settings',\n    },\n    {\n      name: 'yAxisTitle',\n      type: 'string',\n      label: 'Y-Axis Title',\n      category: 'Chart settings',\n    },\n    {\n      name: 'dps',\n      type: 'number',\n      label: 'Decimal Places',\n      category: 'Formatting',\n    },\n    {\n      name: 'limit',\n      type: 'number',\n      label: 'Limit results',\n      defaultValue: 100,\n      category: 'Chart settings',\n    },\n    {\n      name: 'enableDownloadAsCSV',\n      type: 'boolean',\n      label: 'Show download as CSV',\n      category: 'Export options',\n      defaultValue: true,\n    },\n    {\n      name: 'enableDownloadAsPNG',\n      type: 'boolean',\n      label: 'Show download as PNG',\n      category: 'Export options',\n      defaultValue: true,\n    },\n  ],\n} as const satisfies EmbeddedComponentMeta;\n\nexport default defineComponent(Component, meta, {\n  props: (inputs: Inputs<typeof meta>) => {\n\n    return {\n      ...inputs,\n      isTSBarChart: true,\n      reverseXAxis: true,\n      results: loadData({\n        from: inputs.ds,\n        limit: inputs.limit || 500,\n        select: [\n          {\n            dimension: inputs.xAxis?.name,\n            granularity: inputs.granularity,\n          },\n          inputs.metrics,\n          inputs.lineMetrics\n        ],\n        orderBy: [\n          {\n            property: inputs.xAxis,\n            direction: 'desc',\n          },\n        ],\n      }),\n    };\n  },\n});\n"],"names":["inputs","_a","loadData","TimeSeriesBarChart_emb","defineComponent","Component","meta"],"mappings":"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"}