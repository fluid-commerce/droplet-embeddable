import{S as e}from"./p-fERGjQ4F.js";import{D as l}from"./p-D-AfQOnq.js";import{w as r}from"./p-DbsLTMHQ.js";import{P as o,R as t,T as n}from"./p-QU8eYX34.js";import{n as s}from"./p-CBBXROm1.js";const a=a=>{var i;const c=l.useRef(null),[u,d]=l.useState(false),[p,f]=l.useState(false),[m,h]=l.useState(""),[x,b]=l.useState(false),[v,w]=l.useState(a.defaultValue),g=(i=a.options.find((e=>e.value===v)))==null?void 0:i.label;l.useEffect((()=>{w(a.defaultValue)}),[a.defaultValue]),l.useEffect((()=>{let e=null;return p?e&&clearTimeout(e):e=setTimeout((()=>{d(false)}),200),()=>{e&&clearTimeout(e)}}),[p]),l.useLayoutEffect((()=>{if(!x)return;const e=setTimeout((()=>{d(false),b(false)}),500);return()=>clearTimeout(e)}),[x]);const D=l.useCallback((e=>{h(e)}),[h]),N=l.useCallback((e=>{D(""),w(e),a.onChange(e)}),[w,a,D]),k=(e,l,r)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),l(e),d(false),b(true)),e.key==="Escape"&&(e.preventDefault(),d(false),b(true))},C=l.useMemo((()=>a.options.filter((e=>s(m,e))).map((l=>e.jsx("div",{role:"button",onClick:()=>{d(false),b(true),N(l.value)},onKeyDown:e=>{k(e,(()=>{N(l.value)}))},className:`flex items-center min-h-[36px] px-3 py-2 hover:bg-black/5 cursor-pointer font-normal ${v===l.value?"bg-black/5":""} whitespace-nowrap overflow-hidden text-ellipsis`,tabIndex:0,children:l.label},l.value)))),[a.options,v,N,m]);return e.jsx(o,{title:a.title,children:e.jsxs("div",{className:r("relative rounded-xl w-full min-w-[50px] h-10 border border-[#DADCE1] flex items-center",a.className),children:[e.jsx("input",{ref:c,value:m,name:"dropdown",placeholder:a.placeholder,onClick:()=>{d(true),b(false)},onFocus:()=>{d(true),b(false),f(true)},onBlur:()=>{f(false)},onChange:e=>D(e.target.value),className:`outline-none bg-transparent leading-9 h-9 border-0 px-3 w-full cursor-pointer text-sm ${u||!v?"":"opacity-0"}`}),g&&e.jsx("span",{className:`absolute w-[calc(100%-2.5rem)] whitespace-nowrap overflow-hidden truncate rounded-xl left-3 top-1 h-8 leading-8 block pointer-events-none text-sm ${u?"hidden":""}`,children:g}),u&&e.jsxs("div",{style:{minWidth:a.minDropdownWidth},className:"flex flex-col bg-white rounded-xl absolute top-11 z-50 border border-[#DADCE1] w-full overflow-y-auto overflow-x-hidden max-h-[400px]",onMouseDown:e=>{var l;e.preventDefault(),(l=c.current)==null||l.focus(),b(false)},onFocus:()=>{f(true)},onBlur:()=>{f(false)},tabIndex:0,children:[C,(C==null?void 0:C.length)===0&&!!m&&e.jsx("div",{className:"px-3 py-2 text-black/50 italic cursor-pointer",children:"No results"})]}),e.jsx(t,{className:"absolute right-2 top-2.5 z-1 pointer-events-none"}),!a.unclearable&&!!v&&e.jsx("div",{onClick:()=>{N("")},className:"absolute right-10 top-0 h-10 flex items-center z-10 cursor-pointer",children:e.jsx(n,{})})]})})};export{a as z};
//# sourceMappingURL=p-BRZDCi5I.js.map