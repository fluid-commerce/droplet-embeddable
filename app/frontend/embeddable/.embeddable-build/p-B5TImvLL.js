import{W as t,a as i}from"./p-dX_CmHRX.js";import"./p-B7Yk6rNY.js";import"./p-BG3D11hv.js";import"./p-BpMJ0iVV.js";import"./p-CBK12GNN.js";import"./p-C4wedjxV.js";import"./p-D9lurr2W.js";import"./p-DgA2OfDc.js";var s={exports:{}},n=s.exports,e;function h(){return e||(e=1,function(t,i){(function(t,s){s(i)})(n,(function(t){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:false,spiderfyOnMaxZoom:true,showCoverageOnHover:true,zoomToBoundsOnClick:true,singleMarkerMode:false,disableClusteringAtZoom:null,removeOutsideVisibleBounds:true,animate:true,animateAddingMarkers:false,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:false,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var i=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,i?this._withAnimation:this._noAnimation),this._markerCluster=i?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var i=t,s=this._zoom;if(t.__parent)for(;i.__parent._zoom>=s;)i=i.__parent;return this._currentShownBounds.contains(i.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,i):this._animationAddLayerNonAnimated(t,i)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,true),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,i){if(!L.Util.isArray(t))return this.addLayer(t);var s=this._featureGroup,n=this._nonPointGroup,e=this.options.chunkedLoading,h=this.options.chunkInterval,r=this.options.chunkProgress,o=t.length,u=0,a=true,f;if(this._map){var c=(new Date).getTime(),l=L.bind((function(){var d=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();u<o;u++){if(e&&u%200===0){var v=(new Date).getTime()-d;if(v>h)break}if(f=t[u],f instanceof L.LayerGroup){a&&(t=t.slice(),a=false),this._extractNonGroupLayers(f,t),o=t.length;continue}if(!f.getLatLng){n.addLayer(f),i||this.fire("layeradd",{layer:f});continue}if(!this.hasLayer(f)&&(this._addLayer(f,this._maxZoom),i||this.fire("layeradd",{layer:f}),f.__parent&&f.__parent.getChildCount()===2)){var m=f.__parent.getAllChildMarkers(),y=m[0]===f?m[1]:m[0];s.removeLayer(y)}}r&&r(u,o,(new Date).getTime()-c),u===o?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(l,this.options.chunkDelay)}),this);l()}else for(var d=this._needsClustering;u<o;u++){if(f=t[u],f instanceof L.LayerGroup){a&&(t=t.slice(),a=false),this._extractNonGroupLayers(f,t),o=t.length;continue}if(!f.getLatLng){n.addLayer(f);continue}this.hasLayer(f)||d.push(f)}return this},removeLayers:function(t){var i,s,n=t.length,e=this._featureGroup,h=this._nonPointGroup,r=true;if(!this._map){for(i=0;i<n;i++){if(s=t[i],s instanceof L.LayerGroup){r&&(t=t.slice(),r=false),this._extractNonGroupLayers(s,t),n=t.length;continue}this._arraySplice(this._needsClustering,s),h.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var o=t.slice(),u=n;for(i=0;i<u;i++){if(s=o[i],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,o),u=o.length;continue}this._unspiderfyLayer(s)}}for(i=0;i<n;i++){if(s=t[i],s instanceof L.LayerGroup){r&&(t=t.slice(),r=false),this._extractNonGroupLayers(s,t),n=t.length;continue}if(!s.__parent){h.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,true,true),this.fire("layerremove",{layer:s}),e.hasLayer(s)&&(e.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var i=this._needsClustering.length-1;i>=0;i--)t.extend(this._needsClustering[i].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,i){var s=this._needsClustering.slice(),n=this._needsRemoving,e,h,r;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),h=s.length-1;h>=0;h--){for(e=true,r=n.length-1;r>=0;r--)if(n[r].layer===s[h]){e=false;break}e&&t.call(i,s[h])}this._nonPointGroup.eachLayer(t,i)},getLayers:function(){var t=[];return this.eachLayer((function(i){t.push(i)})),t},getLayer:function(t){var i=null;return t=parseInt(t,10),this.eachLayer((function(s){L.stamp(s)===t&&(i=s)})),i},hasLayer:function(t){if(!t)return false;var i,s=this._needsClustering;for(i=s.length-1;i>=0;i--)if(s[i]===t)return true;for(s=this._needsRemoving,i=s.length-1;i>=0;i--)if(s[i].layer===t)return false;return!!(t.__parent&&t.__parent._group===this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,i){var s=this._map;typeof i!="function"&&(i=function(){});var n=function(){(s.hasLayer(t)||s.hasLayer(t.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",n,this),this.off("animationend",n,this),s.hasLayer(t)?i():t.__parent._icon&&(this.once("spiderfied",i,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?i():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){this._map=t;var i,s,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,i=0,s=this._needsRemoving.length;i<s;i++)n=this._needsRemoving[i],n.newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(i=0,s=this._needsRemoving.length;i<s;i++)n=this._needsRemoving[i],this._removeLayer(n.layer,true),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,true)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var i=t;i&&!i._icon;)i=i.__parent;return i||null},_arraySplice:function(t,i){for(var s=t.length-1;s>=0;s--)if(t[s]===i)return t.splice(s,1),true},_removeFromGridUnclustered:function(t,i){for(var s=this._map,n=this._gridUnclustered,e=Math.floor(this._map.getMinZoom());i>=e&&n[i].removeObject(t,s.project(t.getLatLng(),i));i--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var i=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),i&&t.target.openPopup()}},_moveChild:function(t,i,s){t._latlng=i,this.removeLayer(t),t._latlng=s,this.addLayer(t)},_childMarkerDragEnd:function(t){var i=t.target.__dragStart;delete t.target.__dragStart,i&&this._moveChild(t.target,i,t.target._latlng)},_removeLayer:function(t,i,s){var n=this._gridClusters,e=this._gridUnclustered,h=this._featureGroup,r=this._map,o=Math.floor(this._map.getMinZoom());i&&this._removeFromGridUnclustered(t,this._maxZoom);var u=t.__parent,a=u._markers,f;for(this._arraySplice(a,t);u&&(u._childCount--,u._boundsNeedUpdate=true,!(u._zoom<o));)i&&u._childCount<=1?(f=u._markers[0]===t?u._markers[1]:u._markers[0],n[u._zoom].removeObject(u,r.project(u._cLatLng,u._zoom)),e[u._zoom].addObject(f,r.project(f.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(f),f.__parent=u.__parent,u._icon&&(h.removeLayer(u),s||h.addLayer(f))):u._iconNeedsUpdate=true,u=u.__parent;delete t.__parent},_isOrIsParent:function(t,i){for(;i;){if(t===i)return true;i=i.parentNode}return false},fire:function(t,i,s){if(i&&i.layer instanceof L.MarkerCluster){if(i.originalEvent&&this._isOrIsParent(i.layer._icon,i.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,i,s)},listens:function(t,i){return L.FeatureGroup.prototype.listens.call(this,t,i)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,i)},_defaultIconCreateFunction:function(t){var i=t.getChildCount(),s=" marker-cluster-";return i<10?s+="small":i<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+i+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,i=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,e=this.options.spiderfyOnEveryZoom;(i||n||e)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var i=t.layer,s=i;if(!(t.type==="clusterkeypress"&&t.originalEvent&&t.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===i._childCount&&this.options.spiderfyOnMaxZoom?i.spiderfy():this.options.zoomToBoundsOnClick&&i.zoomToBounds(),this.options.spiderfyOnEveryZoom&&i.spiderfy(),t.originalEvent&&t.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(t){var i=this._map;this._inZoomAnimation||(this._shownPolygon&&i.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),i.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,n=this.options.spiderfyOnEveryZoom,e=this._map;(t||s||n)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),i&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),e.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),i=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,n=s;typeof s!="function"&&(n=function(){return s}),this.options.disableClusteringAtZoom!==null&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var e=t;e>=i;e--)this._gridClusters[e]=new L.DistanceGrid(n(e)),this._gridUnclustered[e]=new L.DistanceGrid(n(e));this._topClusterLevel=new this._markerCluster(this,i-1)},_addLayer:function(t,i){var s=this._gridClusters,n=this._gridUnclustered,e=Math.floor(this._map.getMinZoom()),h,r;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);i>=e;i--){h=this._map.project(t.getLatLng(),i);var o=s[i].getNearObject(h);if(o){o._addChild(t),t.__parent=o;return}if(o=n[i].getNearObject(h),o){var u=o.__parent;u&&this._removeLayer(o,false);var a=new this._markerCluster(this,i,o,t);s[i].addObject(a,this._map.project(a._cLatLng,i)),o.__parent=a,t.__parent=a;var f=a;for(r=i-1;r>u._zoom;r--)f=new this._markerCluster(this,r,f),s[r].addObject(f,this._map.project(o.getLatLng(),r));u._addChild(f),this._removeFromGridUnclustered(o,i);return}n[i].addObject(t,h)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}))},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(t){var i=this._maxLat;return i!==void 0&&(t.getNorth()>=i&&(t._northEast.lat=1/0),t.getSouth()<=-i&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,i){if(i===t)this._featureGroup.addLayer(t);else if(i._childCount===2){i._addToMap();var s=i.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else i._updateIcon()},_extractNonGroupLayers:function(t,i){var s=t.getLayers(),n=0,e;for(i=i||[];n<s.length;n++){if(e=s[n],e instanceof L.LayerGroup){this._extractNonGroupLayers(e,i);continue}i.push(e)}return i},_overrideMarkerIcon:function(t){var i=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return i}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,i){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,i,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,i){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,i,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,i){this._animationAddLayerNonAnimated(t,i)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,i){var s=this._getExpandedVisibleBounds(),n=this._featureGroup,e=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=true,this._topClusterLevel._recursively(s,t,e,(function(e){var r=e._latlng,o=e._markers,u;for(s.contains(r)||(r=null),e._isSingleParent()&&t+1===i?(n.removeLayer(e),e._recursivelyAddChildrenToMap(null,i,s)):(e.clusterHide(),e._recursivelyAddChildrenToMap(r,i,s)),h=o.length-1;h>=0;h--)u=o[h],s.contains(u._latlng)||n.removeLayer(u)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,i),n.eachLayer((function(t){!(t instanceof L.MarkerCluster)&&t._icon&&t.clusterShow()})),this._topClusterLevel._recursively(s,t,i,(function(t){t._recursivelyRestoreChildPositions(i)})),this._ignoreMove=false,this._enqueue((function(){this._topClusterLevel._recursively(s,t,e,(function(t){n.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,i){this._animationZoomOutSingle(this._topClusterLevel,t-1,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,i,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,i){var s=this,n=this._featureGroup;n.addLayer(t),i!==t&&(i._childCount>2?(i._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(i.getLatLng())),t.clusterHide(),this._enqueue((function(){n.removeLayer(t),t.clusterShow(),s._animationEnd()}))):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(i,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,i,s){var n=this._getExpandedVisibleBounds(),e=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e,i+1,s);var h=this;this._forceLayout(),t._recursivelyBecomeVisible(n,s),this._enqueue((function(){if(t._childCount===1){var r=t._markers[0];this._ignoreMove=true,r.setLatLng(r.getLatLng()),this._ignoreMove=false,r.clusterShow&&r.clusterShow()}else t._recursively(n,s,e,(function(t){t._recursivelyRemoveChildrenFromMap(n,e,i+1)}));h._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var s=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,i,s,n){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=i,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=true,this._boundsNeedUpdate=true,this._bounds=new L.LatLngBounds,s&&this._addChild(s),n&&this._addChild(n)},getAllChildMarkers:function(t,i){t=t||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(t,i);for(var n=this._markers.length-1;n>=0;n--)i&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var i=this._childClusters.slice(),s=this._group._map,n=s.getBoundsZoom(this._bounds),e=this._zoom+1,h=s.getZoom(),r;i.length>0&&n>e;){e++;var o=[];for(r=0;r<i.length;r++)o=o.concat(i[r]._childClusters);i=o}n>e?this._group._map.setView(this._latlng,e):n<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=true,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=false),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,i){this._iconNeedsUpdate=true,this._boundsNeedUpdate=true,this._setClusterCenter(t),t instanceof L.MarkerCluster?(i||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(i||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,true)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t=this._markers,i=this._childClusters,s=0,n=0,e=this._childCount,h,r,o,u;if(e!==0){for(this._resetBounds(),h=0;h<t.length;h++)o=t[h]._latlng,this._bounds.extend(o),s+=o.lat,n+=o.lng;for(h=0;h<i.length;h++)r=i[h],r._boundsNeedUpdate&&r._recalculateBounds(),this._bounds.extend(r._bounds),o=r._wLatLng,u=r._childCount,s+=o.lat*u,n+=o.lng*u;this._latlng=this._wLatLng=new L.LatLng(s/e,n/e),this._boundsNeedUpdate=false}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,i,s){this._recursively(t,this._group._map.getMinZoom(),s-1,(function(t){var s=t._markers,n,e;for(n=s.length-1;n>=0;n--)e=s[n],e._icon&&(e._setPos(i),e.clusterHide())}),(function(t){var s=t._childClusters,n,e;for(n=s.length-1;n>=0;n--)e=s[n],e._icon&&(e._setPos(i),e.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,i,s,n){this._recursively(t,n,i,(function(e){e._recursivelyAnimateChildrenIn(t,e._group._map.latLngToLayerPoint(e.getLatLng()).round(),s),e._isSingleParent()&&s-1===n?(e.clusterShow(),e._recursivelyRemoveChildrenFromMap(t,i,s)):e.clusterHide(),e._addToMap()}))},_recursivelyBecomeVisible:function(t,i){this._recursively(t,this._group._map.getMinZoom(),i,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,i,s){this._recursively(s,this._group._map.getMinZoom()-1,i,(function(n){if(i!==n._zoom)for(var e=n._markers.length-1;e>=0;e--){var h=n._markers[e];s.contains(h._latlng)&&(t&&(h._backupLatlng=h.getLatLng(),h.setLatLng(t),h.clusterHide&&h.clusterHide()),n._group._featureGroup.addLayer(h))}}),(function(i){i._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var i=this._markers.length-1;i>=0;i--){var s=this._markers[i];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,i,s,n){var e,h;this._recursively(t,i-1,s-1,(function(t){for(h=t._markers.length-1;h>=0;h--)e=t._markers[h],(!n||!n.contains(e._latlng))&&(t._group._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow())}),(function(t){for(h=t._childClusters.length-1;h>=0;h--)e=t._childClusters[h],(!n||!n.contains(e._latlng))&&(t._group._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow())}))},_recursively:function(t,i,s,n,e){var h=this._childClusters,r=this._zoom,o,u;if(i<=r&&(n&&n(this),e&&r===s&&e(this)),r<i||r<s)for(o=h.length-1;o>=0;o--)u=h[o],u._boundsNeedUpdate&&u._recalculateBounds(),t.intersects(u._bounds)&&u._recursively(t,i,s,n,e)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,i){var s=this._getCoord(i.x),n=this._getCoord(i.y),e=this._grid,h=e[n]=e[n]||{},r=h[s]=h[s]||[],o=L.Util.stamp(t);this._objectPoint[o]=i,r.push(t)},updateObject:function(t,i){this.removeObject(t),this.addObject(t,i)},removeObject:function(t,i){var s=this._getCoord(i.x),n=this._getCoord(i.y),e=this._grid,h=e[n]=e[n]||{},r=h[s]=h[s]||[],o,u;for(delete this._objectPoint[L.Util.stamp(t)],o=0,u=r.length;o<u;o++)if(r[o]===t)return r.splice(o,1),u===1&&delete h[s],true},eachObject:function(t,i){var s,n,e,h,r,o,u,a=this._grid;for(s in a){r=a[s];for(n in r)for(o=r[n],e=0,h=o.length;e<h;e++)u=t.call(i,o[e]),u&&(e--,h--)}},getNearObject:function(t){var i=this._getCoord(t.x),s=this._getCoord(t.y),n,e,h,r,o,u,a,f,c=this._objectPoint,l=this._sqCellSize,d=null;for(n=s-1;n<=s+1;n++)if(r=this._grid[n],r){for(e=i-1;e<=i+1;e++)if(o=r[e],o)for(h=0,u=o.length;h<u;h++)a=o[h],f=this._sqDist(c[L.Util.stamp(a)],t),(f<l||f<=l&&d===null)&&(l=f,d=a)}return d},_getCoord:function(t){var i=Math.floor(t/this._cellSize);return isFinite(i)?i:t},_sqDist:function(t,i){var s=i.x-t.x,n=i.y-t.y;return s*s+n*n}},function(){L.QuickHull={getDistant:function(t,i){var s=i[1].lat-i[0].lat,n=i[0].lng-i[1].lng;return n*(t.lat-i[0].lat)+s*(t.lng-i[0].lng)},findMostDistantPointFromBaseLine:function(t,i){var s=0,n=null,e=[],h,r,o;for(h=i.length-1;h>=0;h--){if(r=i[h],o=this.getDistant(r,t),o>0)e.push(r);else continue;o>s&&(s=o,n=r)}return{maxPoint:n,newPoints:e}},buildConvexHull:function(t,i){var s=[],n=this.findMostDistantPointFromBaseLine(t,i);return n.maxPoint?(s=s.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),s=s.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)),s):[t[0]]},getConvexHull:function(t){var i=false,s=false,n=false,e=false,h=null,r=null,o=null,u=null,a=null,f=null,c;for(c=t.length-1;c>=0;c--){var l=t[c];(i===false||l.lat>i)&&(h=l,i=l.lat),(s===false||l.lat<s)&&(r=l,s=l.lat),(n===false||l.lng>n)&&(o=l,n=l.lng),(e===false||l.lng<e)&&(u=l,e=l.lng)}s!==i?(f=r,a=h):(f=u,a=o);var d=[].concat(this.buildConvexHull([f,a],t),this.buildConvexHull([a,f],t));return d}}}(),L.MarkerCluster.include({getConvexHull:function(){var t=this.getAllChildMarkers(),i=[],s,n;for(n=t.length-1;n>=0;n--)s=t[n].getLatLng(),i.push(s);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var t=this.getAllChildMarkers(null,true),i=this._group,s=i._map,n=s.latLngToLayerPoint(this._latlng),e;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?e=this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,n):(n.y+=10,e=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,i){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),n=s/this._2PI,e=this._2PI/t,h=[],r,o;for(n=Math.max(n,35),h.length=t,r=0;r<t;r++)o=this._circleStartAngle+r*e,h[r]=new L.Point(i.x+n*Math.cos(o),i.y+n*Math.sin(o))._round();return h},_generatePointsSpiral:function(t,i){var s=this._group.options.spiderfyDistanceMultiplier,n=s*this._spiralLengthStart,e=s*this._spiralFootSeparation,h=s*this._spiralLengthFactor*this._2PI,r=0,o=[],u;for(o.length=t,u=t;u>=0;u--)u<t&&(o[u]=new L.Point(i.x+n*Math.cos(r),i.y+n*Math.sin(r))._round()),r+=e/n+u*5e-4,n+=h/r;return o},_noanimationUnspiderfy:function(){var t=this._group,i=t._map,s=t._featureGroup,n=this.getAllChildMarkers(null,true),e,h;for(t._ignoreMove=true,this.setOpacity(1),h=n.length-1;h>=0;h--)e=n[h],s.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(i.removeLayer(e._spiderLeg),delete e._spiderLeg);t.fire("unspiderfied",{cluster:this,markers:n}),t._ignoreMove=false,t._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,i){var s=this._group,n=s._map,e=s._featureGroup,h=this._group.options.spiderLegPolylineOptions,r,o,u,a;for(s._ignoreMove=true,r=0;r<t.length;r++)a=n.layerPointToLatLng(i[r]),o=t[r],u=new L.Polyline([this._latlng,a],h),n.addLayer(u),o._spiderLeg=u,o._preSpiderfyLatlng=o._latlng,o.setLatLng(a),o.setZIndexOffset&&o.setZIndexOffset(1e6),e.addLayer(o);this.setOpacity(.3),s._ignoreMove=false,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,i){var s=this,n=this._group,e=n._map,h=n._featureGroup,r=this._latlng,o=e.latLngToLayerPoint(r),u=L.Path.SVG,a=L.extend({},this._group.options.spiderLegPolylineOptions),f=a.opacity,c,l,d,v,m,y;for(f===void 0&&(f=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),u?(a.opacity=0,a.className=(a.className||"")+" leaflet-cluster-spider-leg"):a.opacity=f,n._ignoreMove=true,c=0;c<t.length;c++)l=t[c],y=e.layerPointToLatLng(i[c]),d=new L.Polyline([r,y],a),e.addLayer(d),l._spiderLeg=d,u&&(v=d._path,m=v.getTotalLength()+.1,v.style.strokeDasharray=m,v.style.strokeDashoffset=m),l.setZIndexOffset&&l.setZIndexOffset(1e6),l.clusterHide&&l.clusterHide(),h.addLayer(l),l._setPos&&l._setPos(o);for(n._forceLayout(),n._animationStart(),c=t.length-1;c>=0;c--)y=e.layerPointToLatLng(i[c]),l=t[c],l._preSpiderfyLatlng=l._latlng,l.setLatLng(y),l.clusterShow&&l.clusterShow(),u&&(d=l._spiderLeg,v=d._path,v.style.strokeDashoffset=0,d.setStyle({opacity:f}));this.setOpacity(.3),n._ignoreMove=false,setTimeout((function(){n._animationEnd(),n.fire("spiderfied",{cluster:s,markers:t})}),200)},_animationUnspiderfy:function(t){var i=this,s=this._group,n=s._map,e=s._featureGroup,h=t?n._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):n.latLngToLayerPoint(this._latlng),r=this.getAllChildMarkers(null,true),o=L.Path.SVG,u,a,f,c,l,d;for(s._ignoreMove=true,s._animationStart(),this.setOpacity(1),a=r.length-1;a>=0;a--)u=r[a],u._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,d=true,u._setPos&&(u._setPos(h),d=false),u.clusterHide&&(u.clusterHide(),d=false),d&&e.removeLayer(u),o&&(f=u._spiderLeg,c=f._path,l=c.getTotalLength()+.1,c.style.strokeDashoffset=l,f.setStyle({opacity:0})));s._ignoreMove=false,setTimeout((function(){var t=0;for(a=r.length-1;a>=0;a--)u=r[a],u._spiderLeg&&t++;for(a=r.length-1;a>=0;a--)u=r[a],u._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),t>1&&e.removeLayer(u),n.removeLayer(u._spiderLeg),delete u._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:i,markers:r})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var i,s;for(i in t)for(s=t[i].__parent;s;)s._iconNeedsUpdate=true,s=s.__parent},_refreshSingleMarkerModeMarkers:function(t){var i,s;for(i in t)s=t[i],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(t,i){var s=this.options.icon;return L.setOptions(s,t),this.setIcon(s),i&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=i,t.MarkerCluster=s,Object.defineProperty(t,"__esModule",{value:true})}))}(s,s.exports)),s.exports}h();function r(t){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=["children"];function u(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,n)}return s}function a(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?u(Object(s),true).forEach((function(i){f(t,i,s[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))}))}return t}function f(t,i,s){return(i=c(i))in t?Object.defineProperty(t,i,{value:s,enumerable:true,configurable:true,writable:true}):t[i]=s,t}function c(t){var i=l(t,"string");return r(i)=="symbol"?i:i+""}function l(t,i){if(r(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,i);if(r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function d(t,i){return _(t)||p(t,i)||m(t,i)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(t,i){if(t){if(typeof t=="string")return y(t,i);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?y(t,i):void 0}}function y(t,i){(i==null||i>t.length)&&(i=t.length);for(var s=0,n=Array(i);s<i;s++)n[s]=t[s];return n}function p(t,i){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,e,h,r,o=[],u=true,a=false;try{if(h=(s=s.call(t)).next,i!==0)for(;!(u=(n=h.call(s)).done)&&(o.push(n.value),o.length!==i);u=true);}catch(t){a=true,e=t}finally{try{if(!u&&s.return!=null&&(r=s.return(),Object(r)!==r))return}finally{if(a)throw e}}return o}}function _(t){if(Array.isArray(t))return t}function b(t,i){if(t==null)return{};var s,n,e=g(t,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(n=0;n<h.length;n++)s=h[n],i.includes(s)||{}.propertyIsEnumerable.call(t,s)&&(e[s]=t[s])}return e}function g(t,i){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(i.includes(n))continue;s[n]=t[n]}return s}i.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});i.MarkerClusterGroup.addInitHook((function(){this._layerBuffer=[]}));function M(t,s){var n=b(t,o),e={},h={};Object.entries(n).forEach((function(t){var i=d(t,2),s=i[0],n=i[1];return s.startsWith("on")?h[s]=n:e[s]=n}));var r=new i.MarkerClusterGroup(e);return Object.entries(h).forEach((function(t){var i=d(t,2),s=i[0],n=i[1],e="cluster".concat(s.substring(2).toLowerCase());r.on(e,n)})),{instance:r,context:a(a({},s),{},{layerContainer:r})}}var w=t(M);export{w as default};
//# sourceMappingURL=p-B5TImvLL.js.map