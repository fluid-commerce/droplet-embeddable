import{S as e}from"./p-D-ZJqqO3.js";import{D as l}from"./p-UGbmf8ph.js";import{w as r}from"./p-DZclBDBz.js";import{P as o,R as t,T as n}from"./p-BDmepEmC.js";import{n as s}from"./p-CBBXROm1.js";const a=a=>{var i;const c=l.useRef(null),[u,p]=l.useState(false),[d,m]=l.useState(false),[f,h]=l.useState(""),[x,b]=l.useState(false),[v,w]=l.useState(a.defaultValue),D=(i=a.options.find((e=>e.value===v)))==null?void 0:i.label;l.useEffect((()=>{w(a.defaultValue)}),[a.defaultValue]),l.useEffect((()=>{let e=null;return d?e&&clearTimeout(e):e=setTimeout((()=>{p(false)}),200),()=>{e&&clearTimeout(e)}}),[d]),l.useLayoutEffect((()=>{if(!x)return;const e=setTimeout((()=>{p(false),b(false)}),500);return()=>clearTimeout(e)}),[x]);const g=l.useCallback((e=>{h(e)}),[h]),N=l.useCallback((e=>{g(""),w(e),a.onChange(e)}),[w,a,g]),C=(e,l,r)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),l(e),p(false),b(true)),e.key==="Escape"&&(e.preventDefault(),p(false),b(true))},k=l.useMemo((()=>a.options.filter((e=>s(f,e))).map((l=>e.jsx("div",{role:"button",onClick:()=>{p(false),b(true),N(l.value)},onKeyDown:e=>{C(e,(()=>{N(l.value)}))},className:`flex items-center min-h-[36px] px-3 py-2 hover:bg-black/5 cursor-pointer font-normal ${v===l.value?"bg-black/5":""} whitespace-nowrap overflow-hidden text-ellipsis`,tabIndex:0,children:l.label},l.value)))),[a.options,v,N,f]);return e.jsx(o,{title:a.title,children:e.jsxs("div",{className:r("relative rounded-xl w-full min-w-[50px] h-10 border border-[#DADCE1] flex items-center",a.className),children:[e.jsx("input",{ref:c,value:f,name:"dropdown",placeholder:a.placeholder,onClick:()=>{p(true),b(false)},onFocus:()=>{p(true),b(false),m(true)},onBlur:()=>{m(false)},onChange:e=>g(e.target.value),className:`outline-none bg-transparent leading-9 h-9 border-0 px-3 w-full cursor-pointer text-sm ${u||!v?"":"opacity-0"}`}),D&&e.jsx("span",{className:`absolute w-[calc(100%-2.5rem)] whitespace-nowrap overflow-hidden truncate rounded-xl left-3 top-1 h-8 leading-8 block pointer-events-none text-sm ${u?"hidden":""}`,children:D}),u&&e.jsxs("div",{style:{minWidth:a.minDropdownWidth},className:"flex flex-col bg-white rounded-xl absolute top-11 z-50 border border-[#DADCE1] w-full overflow-y-auto overflow-x-hidden max-h-[400px]",onMouseDown:e=>{var l;e.preventDefault(),(l=c.current)==null||l.focus(),b(false)},onFocus:()=>{m(true)},onBlur:()=>{m(false)},tabIndex:0,children:[k,(k==null?void 0:k.length)===0&&!!f&&e.jsx("div",{className:"px-3 py-2 text-black/50 italic cursor-pointer",children:"No results"})]}),e.jsx(t,{className:"absolute right-2 top-2.5 z-1 pointer-events-none"}),!a.unclearable&&!!v&&e.jsx("div",{onClick:()=>{N("")},className:"absolute right-10 top-0 h-10 flex items-center z-10 cursor-pointer",children:e.jsx(n,{})})]})})};export{a as z};
//# sourceMappingURL=p-BOQxbGzL.js.map