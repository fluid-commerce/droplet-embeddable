{"version":3,"file":"p-BDlB9N1X.js","sources":["../embeddable-prepared-build/index-BKNn0bB9-BFPL678m.js"],"sourcesContent":["import { j as n } from \"./jsx-runtime-CjQXaSqQ-DzL_EJ9W.js\";\nimport { $ as y, j as f, B as g, M as h, Y as x, X as b, a as A, S as v, P as M, I as P, w as j, x as k, F as L, L as T } from \"./common-Badpcggq-CKP1FX2b.js\";\nimport \"./chartjs-adapter-date-fns.esm-vRFmo1LD-2_9V0Swb.js\";\nimport { r as d } from \"./embeddable-entry-point-BqGPapEq.js\";\nimport { j as w } from \"./useTimeseries-CKhM5zgf-BGNLKK48.js\";\nimport { c as r } from \"./format-TjzP8gQX-oHZX7qOo.js\";\nimport { i as F } from \"./formatDateTooltips-B_XOEw3--DGy5kN2V.js\";\nimport { q as I } from \"./getStackedChartData-DmWnIJXP-BGfyqr4T.js\";\nimport { W as S } from \"./Container-mop-J7T8-DuRWKQE8.js\";\nimport { u as $ } from \"./index.esm-B-VEeZou.js\";\nh.register(\n  x,\n  b,\n  A,\n  v,\n  M,\n  P,\n  j,\n  k,\n  L,\n  T\n);\nconst G = (i) => {\n  const { isMultiDimensionLine: o = !1 } = i, s = $();\n  y(s, \"pie\");\n  const e = {\n    ...i,\n    theme: s\n  }, { fillGaps: l } = w(e, \"desc\"), p = d.useMemo(() => {\n    var t, a;\n    const c = (a = (t = e == null ? void 0 : e.results) == null ? void 0 : t.data) == null ? void 0 : a.reduce(l, []), u = {\n      fill: !o,\n      cubicInterpolationMode: s.charts.stackedArea.cubicInterpolationMode,\n      pointRadius: 0,\n      tension: s.charts.stackedArea.lineTension,\n      pointHoverRadius: 3\n    };\n    return I(\n      {\n        ...e,\n        results: {\n          ...e.results,\n          data: c\n        }\n      },\n      u,\n      { chartType: \"stackedAreaChart\" }\n    );\n  }, [e, l]), m = d.useMemo(() => ({\n    responsive: !0,\n    maintainAspectRatio: !1,\n    interaction: {\n      mode: \"index\",\n      intersect: !1\n    },\n    layout: {\n      padding: {\n        left: 0,\n        right: 0,\n        top: e.showLabels ? 20 : 0,\n        // Added so the highest data labels fits\n        bottom: 0\n      }\n    },\n    scales: {\n      y: {\n        stacked: !o,\n        min: e.yAxisMin,\n        max: e.displayAsPercentage ? 100 : void 0,\n        grace: \"0%\",\n        // Add percent to add numbers on the y-axis above and below the max and min values\n        grid: {\n          display: !1\n        },\n        ticks: {\n          callback: function(t) {\n            return e.displayAsPercentage ? `${t}%` : r(t.toString(), { type: \"number\" });\n          }\n        },\n        title: {\n          display: !!e.yAxisTitle,\n          text: e.yAxisTitle\n        },\n        afterDataLimits: function(t) {\n          f(t, e.results, [e.metric], e.dps);\n        }\n      },\n      x: {\n        grid: {\n          display: !1\n        },\n        title: {\n          display: !!e.xAxisTitle,\n          text: e.xAxisTitle\n        },\n        type: \"time\",\n        time: {\n          round: e.granularity,\n          displayFormats: s.dateFormats,\n          unit: e.granularity\n        }\n      }\n    },\n    animation: {\n      duration: 400,\n      easing: \"linear\"\n    },\n    plugins: {\n      legend: {\n        display: e.showLegend,\n        position: \"bottom\",\n        labels: {\n          usePointStyle: !0,\n          boxHeight: 8\n        }\n      },\n      tooltip: {\n        //https://www.chartjs.org/docs/latest/configuration/tooltip.html\n        callbacks: {\n          label: function(t) {\n            let a = t.dataset.label || \"\";\n            return t.parsed.y !== null && (a += `: ${r(`${t.parsed.y}`, {\n              type: \"number\",\n              dps: e.dps,\n              meta: e.displayAsPercentage ? void 0 : e.metric.meta\n            })}`, e.displayAsPercentage && (a += \"%\")), a;\n          },\n          title: (t) => F(t, e.granularity || \"day\", s)\n        }\n      },\n      datalabels: {\n        align: \"top\",\n        display: e.showLabels ? \"auto\" : !1,\n        formatter: (t) => {\n          let a = t ? r(t, {\n            type: \"number\",\n            dps: e.dps,\n            meta: e.displayAsPercentage ? void 0 : i.metric.meta\n          }) : null;\n          return e.displayAsPercentage && (a += \"%\"), a;\n        }\n      }\n    }\n  }), [e, s]);\n  return /* @__PURE__ */ n.jsx(S, { ...e, className: \"overflow-y-hidden\", children: /* @__PURE__ */ n.jsx(g, { height: \"100%\", options: m, data: p }) });\n};\nexport {\n  G as O\n};\n//# sourceMappingURL=index-BKNn0bB9-BFPL678m.js.map\n"],"names":["h","x","b","A","v","M","P","j","k","L","T","$","y","w","d","I","m","r","f","F","n","S","g"],"mappings":"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"}