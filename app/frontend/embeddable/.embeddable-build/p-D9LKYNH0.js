import{D as e}from"./p-DbsLTMHQ.js";import{G as t,k as a}from"./p-C7Q3h1tE.js";import{S as l}from"./p-fERGjQ4F.js";import{W as i,B as r,I as s,w as o,Y as n,U as p,v as d,P as m,k as u,E as c,M as y,m as g,a as b}from"./p-9nlLijaU.js";import"./p-Ccm7u5ul.js";import{D as f}from"./p-D-AfQOnq.js";import{R as h}from"./p-BCUE6oJ2.js";import{n as C,c as x}from"./p-BvW5kj19.js";import{m as j}from"./p-e2Wdry-T.js";import{r as v}from"./p-BIFnrNPV.js";import{P as w}from"./p-QU8eYX34.js";import"./p-DUIxdZrE.js";import"./p-BcYWNS4N.js";import"./p-CBK12GNN.js";import"./p-BEjya3u4.js";o.register(n,p,d,m,u,c,y,g,b);const A=e=>{const{title:t}=e,{fillGaps:o}=h(e,"desc"),n=a();i(n,"line");const p={...e,theme:n},d=f.useMemo((()=>{var t;const{results:a,metrics:l,applyFill:i,theme:r}=p,s=(t=a==null?void 0:a.data)==null?void 0:t.reduce(o,[]);let n=r.charts.colors;return r.charts.line.colors&&(n=r.charts.line.colors),{datasets:(l==null?void 0:l.map(((t,a)=>({label:t.title,data:(s==null?void 0:s.map((a=>{var l;return{y:parseFloat(a[t.name]||"0"),x:C(a[((l=e.xAxis)==null?void 0:l.name)||""])}})))||[],backgroundColor:i?v(n[a%n.length],.2):n[a%n.length],borderColor:n[a%n.length],pointRadius:0,tension:r.charts.line.lineTension,pointHoverRadius:3,fill:i,cubicInterpolationMode:r.charts.bar.cubicInterpolationMode}))))||[]}}),[p,o]),m=f.useMemo((()=>({responsive:true,maintainAspectRatio:false,interaction:{mode:"index",intersect:false},layout:{padding:{left:0,right:0,top:p.showLabels?20:0,bottom:0}},scales:{y:{min:p.yAxisMin,grace:"0%",grid:{display:false},title:{display:!!p.yAxisTitle,text:p.yAxisTitle},callback:function(e){return x(e.toString(),{type:"number"})},afterDataLimits:function(e){r(e,p.results,[...p.metrics],p.dps)}},x:{grid:{display:false},title:{display:!!p.xAxisTitle,text:p.xAxisTitle},type:"time",time:{round:p.granularity,displayFormats:n.dateFormats,unit:p.granularity}}},animation:{duration:400,easing:"linear"},plugins:{legend:{display:p.showLegend,position:"bottom",labels:{usePointStyle:true,boxHeight:8}},datalabels:{align:"top",display:p.showLabels?"auto":false,backgroundColor:n.charts.line.labels.backgroundColor,borderRadius:n.charts.line.labels.borderRadius,color:n.charts.line.labels.color,font:{size:n.charts.line.labels.font.size,weight:n.charts.line.labels.font.weight},formatter:(e,t)=>{const a=t.datasetIndex,l=p.metrics[a];return e?x(e.y,{type:"number",dps:p.dps,meta:l==null?void 0:l.meta}):null}},tooltip:{callbacks:{label:function(e){const t=e.datasetIndex,a=p.metrics[t];let l=e.dataset.label||"";return e.parsed.y!==null&&(l+=`: ${x(`${e.parsed.y}`,{type:"number",dps:p.dps,meta:a==null?void 0:a.meta})}`),l},title:e=>j(e,p.granularity,n)}}}})),[p,n.dateFormats]);return l.jsx(w,{...p,className:"overflow-y-hidden",children:l.jsx(s,{"aria-label":t?`Line Chart: ${t}`:"Line Chart","aria-roledescription":"line chart",height:"100%",options:m,data:d})})},D={name:"LineChart",label:"Line chart (time-series)",classNames:["inside-card"],category:"Charts: time-series",inputs:[{name:"ds",type:"dataset",label:"Dataset",description:"Dataset",defaultValue:false,category:"Chart data"},{name:"xAxis",type:"dimension",label:"X-Axis",config:{dataset:"ds",supportedTypes:["time"],hideGranularity:true},category:"Chart data"},{name:"metrics",type:"measure",array:true,label:"Metrics",config:{dataset:"ds"},category:"Chart data"},{name:"granularity",type:"granularity",label:"Granularity",defaultValue:"day",category:"Variables to configure"},{name:"title",type:"string",label:"Title",description:"The title for the chart",category:"Chart settings"},{name:"description",type:"string",label:"Description",description:"The description for the chart",category:"Chart settings"},{name:"xAxisTitle",type:"string",label:"X-Axis Title",category:"Chart settings"},{name:"yAxisTitle",type:"string",label:"Y-Axis Title",category:"Chart settings"},{name:"showLabels",type:"boolean",label:"Show Labels",category:"Chart settings",defaultValue:false},{name:"applyFill",type:"boolean",label:"Color fill space under line",category:"Chart settings",defaultValue:false},{name:"yAxisMin",type:"number",label:"Y-Axis minimum value",category:"Chart settings"},{name:"showLegend",type:"boolean",label:"Show Legend",category:"Chart settings",defaultValue:true},{name:"limit",type:"number",label:"Limit results",defaultValue:100,category:"Chart settings"},{name:"dps",type:"number",label:"Decimal Places",category:"Formatting"},{name:"enableDownloadAsCSV",type:"boolean",label:"Show download as CSV",category:"Export options",defaultValue:true},{name:"enableDownloadAsPNG",type:"boolean",label:"Show download as PNG",category:"Export options",defaultValue:true}]},L=t(A,D,{props:t=>{var a;const l=[];return l.push({property:t.xAxis,direction:"desc"}),{...t,results:e({from:t.ds,limit:t.limit||500,orderBy:l,select:[{dimension:(a=t.xAxis)==null?void 0:a.name,granularity:t.granularity},t.metrics]})}}});export{L as default,D as meta};
//# sourceMappingURL=p-D9LKYNH0.js.map