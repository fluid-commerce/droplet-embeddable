import{D as n,M as t}from"./p-D-AfQOnq.js";import{$ as r}from"./p-QU8eYX34.js";import{n as i,T as e,O as u,V as o}from"./p-BQ4HIx8G.js";import"./p-CBK12GNN.js";import"./p-fERGjQ4F.js";import"./p-DbsLTMHQ.js";import"./p-C7Q3h1tE.js";import"./p-BEjya3u4.js";import"./p-BvW5kj19.js";class f{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const e=t[i],u=n+e,o=Math.abs(n)<Math.abs(e)?n-(u-e):e-(u-n);o&&(t[r++]=o),n=u}return t[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let t=this._n,r,i,e,u=0;if(t>0){for(u=n[--t];t>0&&(r=u,i=n[--t],u=r+i,e=i-(u-r),!e););t>0&&(e<0&&n[t-1]<0||e>0&&n[t-1]>0)&&(i=e*2,r=u+i,i==r-u&&(u=r))}return u}}function*c(n){for(const t of n)yield*t}function a(n){return Array.from(c(n))}function s(n,t,r){n=+n,t=+t,r=(e=arguments.length)<2?(t=n,n=0,1):e<3?1:+r;for(var i=-1,e=Math.max(0,Math.ceil((t-n)/r))|0,u=new Array(e);++i<e;)u[i]=n+i*r;return u}var l=180/Math.PI,h={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function v(n,t,r,i,e,u){var o,f,c;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(c=n*r+t*i)&&(r-=n*c,i-=t*c),(f=Math.sqrt(r*r+i*i))&&(r/=f,i/=f,c/=f),n*i<t*r&&(n=-n,t=-t,c=-c,o=-o),{translateX:e,translateY:u,rotate:Math.atan2(t,n)*l,skewX:Math.atan(c)*l,scaleX:o,scaleY:f}}var p;function y(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?h:v(t.a,t.b,t.c,t.d,t.e,t.f)}function d(n){return n==null||(p||(p=document.createElementNS("http://www.w3.org/2000/svg","g")),p.setAttribute("transform",n),!(n=p.transform.baseVal.consolidate()))?h:(n=n.matrix,v(n.a,n.b,n.c,n.d,n.e,n.f))}function g(n,t,r,e){function u(n){return n.length?n.pop()+" ":""}function o(n,e,u,o,f,c){if(n!==u||e!==o){var a=f.push("translate(",null,t,null,r);c.push({i:a-4,x:i(n,u)},{i:a-2,x:i(e,o)})}else(u||o)&&f.push("translate("+u+t+o+r)}function f(n,t,r,o){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),o.push({i:r.push(u(r)+"rotate(",null,e)-2,x:i(n,t)})):t&&r.push(u(r)+"rotate("+t+e)}function c(n,t,r,o){n!==t?o.push({i:r.push(u(r)+"skewX(",null,e)-2,x:i(n,t)}):t&&r.push(u(r)+"skewX("+t+e)}function a(n,t,r,e,o,f){if(n!==r||t!==e){var c=o.push(u(o)+"scale(",null,",",null,")");f.push({i:c-4,x:i(n,r)},{i:c-2,x:i(t,e)})}else(r!==1||e!==1)&&o.push(u(o)+"scale("+r+","+e+")")}return function(t,r){var i=[],e=[];return t=n(t),r=n(r),o(t.translateX,t.translateY,r.translateX,r.translateY,i,e),f(t.rotate,r.rotate,i,e),c(t.skewX,r.skewX,i,e),a(t.scaleX,t.scaleY,r.scaleX,r.scaleY,i,e),t=r=null,function(n){for(var t=-1,r=e.length,u;++t<r;)i[(u=e[t]).i]=u.x(n);return i.join("")}}}var m=g(y,"px, ","px)","deg)"),w=g(d,", ",")",")"),M=1e-12;function b(n){return((n=Math.exp(n))+1/n)/2}function E(n){return((n=Math.exp(n))-1/n)/2}function S(n){return((n=Math.exp(2*n))-1)/(n+1)}const N=function n(t,r,i){function e(n,e){var u=n[0],o=n[1],f=n[2],c=e[0],a=e[1],s=e[2],l=c-u,h=a-o,v=l*l+h*h,p,y;if(v<M)y=Math.log(s/f)/t,p=function(n){return[u+n*l,o+n*h,f*Math.exp(t*n*y)]};else{var d=Math.sqrt(v),g=(s*s-f*f+i*v)/(2*f*r*d),m=(s*s-f*f-i*v)/(2*s*r*d),w=Math.log(Math.sqrt(g*g+1)-g),N=Math.log(Math.sqrt(m*m+1)-m);y=(N-w)/t,p=function(n){var i=n*y,e=b(w),c=f/(r*d)*(e*S(t*i+w)-E(w));return[u+c*l,o+c*h,f*e/b(t*i+w)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return e.rho=function(t){var r=Math.max(.001,+t),i=r*r,e=i*i;return n(r,i,e)},e}(Math.SQRT2,2,4);var j={exports:{}},k,A;function x(){if(A)return k;A=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return k=n,k}var C,O;function P(){if(O)return C;O=1;var n=x();function t(){}function r(){}return r.resetWarningCache=t,C=function(){function i(t,r,i,e,u,o){if(o!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}i.isRequired=i;function e(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:t};return u.PropTypes=u,u},C}var z;function T(){return z||(z=1,j.exports=P()()),j.exports}var _=T();const L=r(_);var R=1e-6,G=1e-12,$=Math.PI,q=$/2,F=$/4,B=$*2,D=180/$,I=$/180,X=Math.abs,Z=Math.atan,U=Math.atan2,W=Math.cos,Y=Math.ceil,Q=Math.exp,K=Math.hypot,V=Math.log,H=Math.pow,J=Math.sin,nn=Math.sign||function(n){return n>0?1:n<0?-1:0},tn=Math.sqrt,rn=Math.tan;function en(n){return n>1?0:n<-1?$:Math.acos(n)}function un(n){return n>1?q:n<-1?-q:Math.asin(n)}function on(n){return(n=J(n/2))*n}function fn(){}function cn(n,t){n&&sn.hasOwnProperty(n.type)&&sn[n.type](n,t)}var an={Feature:function(n,t){cn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)cn(r[i].geometry,t)}},sn={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){ln(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)ln(r[i],t,0)},Polygon:function(n,t){hn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)hn(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)cn(r[i],t)}};function ln(n,t,r){var i=-1,e=n.length-r,u;for(t.lineStart();++i<e;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function hn(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)ln(n[r],t,1);t.polygonEnd()}function vn(n,t){n&&an.hasOwnProperty(n.type)?an[n.type](n,t):cn(n,t)}var pn=new f,yn=new f,dn,gn,mn,wn,Mn,bn={point:fn,lineStart:fn,lineEnd:fn,polygonStart:function(){pn=new f,bn.lineStart=En,bn.lineEnd=Sn},polygonEnd:function(){var n=+pn;yn.add(n<0?B+n:n),this.lineStart=this.lineEnd=this.point=fn},sphere:function(){yn.add(B)}};function En(){bn.point=Nn}function Sn(){jn(dn,gn)}function Nn(n,t){bn.point=jn,dn=n,gn=t,n*=I,t*=I,mn=n,wn=W(t=t/2+F),Mn=J(t)}function jn(n,t){n*=I,t*=I,t=t/2+F;var r=n-mn,i=r>=0?1:-1,e=i*r,u=W(t),o=J(t),f=Mn*o,c=wn*u+f*W(e),a=f*i*J(e);pn.add(U(a,c)),mn=n,wn=u,Mn=o}function kn(n){return yn=new f,vn(n,bn),yn*2}function An(n){return[U(n[1],n[0]),un(n[2])]}function xn(n){var t=n[0],r=n[1],i=W(r);return[i*W(t),i*J(t),J(r)]}function Cn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function On(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Pn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function zn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Tn(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var _n,Ln,Rn,Gn,$n,qn,Fn,Bn,Dn,In,Xn,Zn={point:Un,lineStart:Yn,lineEnd:Qn,polygonStart:function(){Zn.point=Kn,Zn.lineStart=Vn,Zn.lineEnd=Hn,Dn=new f,bn.polygonStart()},polygonEnd:function(){bn.polygonEnd(),Zn.point=Un,Zn.lineStart=Yn,Zn.lineEnd=Qn,pn<0?(_n=-(Rn=180),Ln=-(Gn=90)):Dn>R?Gn=90:Dn<-1e-6&&(Ln=-90),Xn[0]=_n,Xn[1]=Rn},sphere:function(){_n=-(Rn=180),Ln=-(Gn=90)}};function Un(n,t){In.push(Xn=[_n=n,Rn=n]),t<Ln&&(Ln=t),t>Gn&&(Gn=t)}function Wn(n,t){var r=xn([n*I,t*I]);if(Bn){var i=On(Bn,r),e=[i[1],-i[0],0],u=On(e,i);Tn(u),u=An(u);var o=n-$n,f=o>0?1:-1,c=u[0]*D*f,a,s=X(o)>180;s^(f*$n<c&&c<f*n)?(a=u[1]*D,a>Gn&&(Gn=a)):(c=(c+360)%360-180,s^(f*$n<c&&c<f*n)?(a=-u[1]*D,a<Ln&&(Ln=a)):(t<Ln&&(Ln=t),t>Gn&&(Gn=t))),s?n<$n?Jn(_n,n)>Jn(_n,Rn)&&(Rn=n):Jn(n,Rn)>Jn(_n,Rn)&&(_n=n):Rn>=_n?(n<_n&&(_n=n),n>Rn&&(Rn=n)):n>$n?Jn(_n,n)>Jn(_n,Rn)&&(Rn=n):Jn(n,Rn)>Jn(_n,Rn)&&(_n=n)}else In.push(Xn=[_n=n,Rn=n]);t<Ln&&(Ln=t),t>Gn&&(Gn=t),Bn=r,$n=n}function Yn(){Zn.point=Wn}function Qn(){Xn[0]=_n,Xn[1]=Rn,Zn.point=Un,Bn=null}function Kn(n,t){if(Bn){var r=n-$n;Dn.add(X(r)>180?r+(r>0?360:-360):r)}else qn=n,Fn=t;bn.point(n,t),Wn(n,t)}function Vn(){bn.lineStart()}function Hn(){Kn(qn,Fn),bn.lineEnd(),X(Dn)>R&&(_n=-(Rn=180)),Xn[0]=_n,Xn[1]=Rn,Bn=null}function Jn(n,t){return(t-=n)<0?t+360:t}function nt(n,t){return n[0]-t[0]}function tt(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function rt(n){var t,r,i,e,u,o,f;if(Gn=Rn=-(_n=Ln=1/0),In=[],vn(n,Zn),r=In.length){for(In.sort(nt),t=1,i=In[0],u=[i];t<r;++t)e=In[t],tt(i,e[0])||tt(i,e[1])?(Jn(i[0],e[1])>Jn(i[0],i[1])&&(i[1]=e[1]),Jn(e[0],i[1])>Jn(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(o=-1/0,r=u.length-1,t=0,i=u[r];t<=r;i=e,++t)e=u[t],(f=Jn(i[1],e[0]))>o&&(o=f,_n=e[0],Rn=i[1])}return In=Xn=null,_n===1/0||Ln===1/0?[[NaN,NaN],[NaN,NaN]]:[[_n,Ln],[Rn,Gn]]}var it,et,ut,ot,ft,ct,at,st,lt,ht,vt,pt,yt,dt,gt,mt,wt={sphere:fn,point:Mt,lineStart:Et,lineEnd:jt,polygonStart:function(){wt.lineStart=kt,wt.lineEnd=At},polygonEnd:function(){wt.lineStart=Et,wt.lineEnd=jt}};function Mt(n,t){n*=I,t*=I;var r=W(t);bt(r*W(n),r*J(n),J(t))}function bt(n,t,r){++it,ut+=(n-ut)/it,ot+=(t-ot)/it,ft+=(r-ft)/it}function Et(){wt.point=St}function St(n,t){n*=I,t*=I;var r=W(t);dt=r*W(n),gt=r*J(n),mt=J(t),wt.point=Nt,bt(dt,gt,mt)}function Nt(n,t){n*=I,t*=I;var r=W(t),i=r*W(n),e=r*J(n),u=J(t),o=U(tn((o=gt*u-mt*e)*o+(o=mt*i-dt*u)*o+(o=dt*e-gt*i)*o),dt*i+gt*e+mt*u);et+=o,ct+=o*(dt+(dt=i)),at+=o*(gt+(gt=e)),st+=o*(mt+(mt=u)),bt(dt,gt,mt)}function jt(){wt.point=Mt}function kt(){wt.point=xt}function At(){Ct(pt,yt),wt.point=Mt}function xt(n,t){pt=n,yt=t,n*=I,t*=I,wt.point=Ct;var r=W(t);dt=r*W(n),gt=r*J(n),mt=J(t),bt(dt,gt,mt)}function Ct(n,t){n*=I,t*=I;var r=W(t),i=r*W(n),e=r*J(n),u=J(t),o=gt*u-mt*e,f=mt*i-dt*u,c=dt*e-gt*i,a=K(o,f,c),s=un(a),l=a&&-s/a;lt.add(l*o),ht.add(l*f),vt.add(l*c),et+=s,ct+=s*(dt+(dt=i)),at+=s*(gt+(gt=e)),st+=s*(mt+(mt=u)),bt(dt,gt,mt)}function Ot(n){it=et=ut=ot=ft=ct=at=st=0,lt=new f,ht=new f,vt=new f,vn(n,wt);var t=+lt,r=+ht,i=+vt,e=K(t,r,i);return e<G&&(t=ct,r=at,i=st,et<R&&(t=ut,r=ot,i=ft),e=K(t,r,i),e<G)?[NaN,NaN]:[U(r,t)*D,un(i/e)*D]}function Pt(n){return function(){return n}}function zt(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),r}function Tt(n,t){return X(n)>$&&(n-=Math.round(n/B)*B),[n,t]}Tt.invert=Tt;function _t(n,t,r){return(n%=B)?t||r?zt(Rt(n),Gt(t,r)):Rt(n):t||r?Gt(t,r):Tt}function Lt(n){return function(t,r){return t+=n,X(t)>$&&(t-=Math.round(t/B)*B),[t,r]}}function Rt(n){var t=Lt(n);return t.invert=Lt(-n),t}function Gt(n,t){var r=W(n),i=J(n),e=W(t),u=J(t);function o(n,t){var o=W(t),f=W(n)*o,c=J(n)*o,a=J(t),s=a*r+f*i;return[U(c*e-s*u,f*r-a*i),un(s*e+c*u)]}return o.invert=function(n,t){var o=W(t),f=W(n)*o,c=J(n)*o,a=J(t),s=a*e-c*u;return[U(c*e+a*u,f*r+s*i),un(s*r-f*i)]},o}function $t(n){n=_t(n[0]*I,n[1]*I,n.length>2?n[2]*I:0);function t(t){return t=n(t[0]*I,t[1]*I),t[0]*=D,t[1]*=D,t}return t.invert=function(t){return t=n.invert(t[0]*I,t[1]*I),t[0]*=D,t[1]*=D,t},t}function qt(n,t,r,i,e,u){if(r){var o=W(t),f=J(t),c=i*r;e==null?(e=t+i*B,u=t-c/2):(e=Ft(o,e),u=Ft(o,u),(i>0?e<u:e>u)&&(e+=i*B));for(var a,s=e;i>0?s>u:s<u;s-=c)a=An([o,-f*W(s),-f*J(s)]),n.point(a[0],a[1])}}function Ft(n,t){t=xn(t),t[0]-=n,Tn(t);var r=en(-t[1]);return((-t[2]<0?-r:r)+B-R)%B}function Bt(){var n=Pt([0,0]),t=Pt(90),r=Pt(2),i,e,u={point:o};function o(n,t){i.push(n=e(n,t)),n[0]*=D,n[1]*=D}function f(){var o=n.apply(this,arguments),f=t.apply(this,arguments)*I,c=r.apply(this,arguments)*I;return i=[],e=_t(-o[0]*I,-o[1]*I,0).invert,qt(u,f,c,1),o={type:"Polygon",coordinates:[i]},i=e=null,o}return f.center=function(t){return arguments.length?(n=typeof t=="function"?t:Pt([+t[0],+t[1]]),f):n},f.radius=function(n){return arguments.length?(t=typeof n=="function"?n:Pt(+n),f):t},f.precision=function(n){return arguments.length?(r=typeof n=="function"?n:Pt(+n),f):r},f}function Dt(){var n=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){n.push(t=[])},lineEnd:fn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function It(n,t){return X(n[0]-t[0])<R&&X(n[1]-t[1])<R}function Xt(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=false,this.n=this.p=null}function Zt(n,t,r,i,e){var u=[],o=[],f,c;if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],i=n[t],c;if(It(r,i)){if(!r[2]&&!i[2]){for(e.lineStart(),f=0;f<t;++f)e.point((r=n[f])[0],r[1]);e.lineEnd();return}i[0]+=2*R}u.push(c=new Xt(r,n,null,true)),o.push(c.o=new Xt(r,null,c,false)),u.push(c=new Xt(i,n,null,false)),o.push(c.o=new Xt(i,null,c,true))}})),!!u.length){for(o.sort(t),Ut(u),Ut(o),f=0,c=o.length;f<c;++f)o[f].e=r=!r;for(var a=u[0],s,l;;){for(var h=a,v=true;h.v;)if((h=h.n)===a)return;s=h.z,e.lineStart();do{if(h.v=h.o.v=true,h.e){if(v)for(f=0,c=s.length;f<c;++f)e.point((l=s[f])[0],l[1]);else i(h.x,h.n.x,1,e);h=h.n}else{if(v)for(s=h.p.z,f=s.length-1;f>=0;--f)e.point((l=s[f])[0],l[1]);else i(h.x,h.p.x,-1,e);h=h.p}h=h.o,s=h.z,v=!v}while(!h.v);e.lineEnd()}}}function Ut(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Wt(n){return X(n[0])<=$?n[0]:nn(n[0])*((X(n[0])+$)%B-$)}function Yt(n,t){var r=Wt(t),i=t[1],e=J(i),u=[J(r),-W(r),0],o=0,c=0,a=new f;e===1?i=q+R:e===-1&&(i=-q-R);for(var s=0,l=n.length;s<l;++s)if(v=(h=n[s]).length)for(var h,v,p=h[v-1],y=Wt(p),d=p[1]/2+F,g=J(d),m=W(d),w=0;w<v;++w,y=b,g=S,m=N,p=M){var M=h[w],b=Wt(M),E=M[1]/2+F,S=J(E),N=W(E),j=b-y,k=j>=0?1:-1,A=k*j,x=A>$,C=g*S;if(a.add(U(C*k*J(A),m*N+C*W(A))),o+=x?j+k*B:j,x^y>=r^b>=r){var O=On(xn(p),xn(M));Tn(O);var P=On(u,O);Tn(P);var z=(x^j>=0?-1:1)*un(P[2]);(i>z||i===z&&(O[0]||O[1]))&&(c+=x^j>=0?1:-1)}}return(o<-1e-6||o<R&&a<-1e-12)^c&1}function Qt(n,t,r,i){return function(e){var u=t(e),o=Dt(),f=t(o),c=false,s,l,h,v={point:p,lineStart:d,lineEnd:g,polygonStart:function(){v.point=m,v.lineStart=w,v.lineEnd=M,l=[],s=[]},polygonEnd:function(){v.point=p,v.lineStart=d,v.lineEnd=g,l=a(l);var n=Yt(s,i);l.length?(c||(e.polygonStart(),c=true),Zt(l,Vt,n,r,e)):n&&(c||(e.polygonStart(),c=true),e.lineStart(),r(null,null,1,e),e.lineEnd()),c&&(e.polygonEnd(),c=false),l=s=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function p(t,r){n(t,r)&&e.point(t,r)}function y(n,t){u.point(n,t)}function d(){v.point=y,u.lineStart()}function g(){v.point=p,u.lineEnd()}function m(n,t){h.push([n,t]),f.point(n,t)}function w(){f.lineStart(),h=[]}function M(){m(h[0][0],h[0][1]),f.lineEnd();var n=f.clean(),t=o.result(),r,i=t.length,u,a,v;if(h.pop(),s.push(h),h=null,!!i){if(n&1){if(a=t[0],(u=a.length-1)>0){for(c||(e.polygonStart(),c=true),e.lineStart(),r=0;r<u;++r)e.point((v=a[r])[0],v[1]);e.lineEnd()}return}i>1&&n&2&&t.push(t.pop().concat(t.shift())),l.push(t.filter(Kt))}}return v}}function Kt(n){return n.length>1}function Vt(n,t){return((n=n.x)[0]<0?n[1]-q-R:q-n[1])-((t=t.x)[0]<0?t[1]-q-R:q-t[1])}const Ht=Qt((function(){return true}),Jt,tr,[-$,-q]);function Jt(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(u,o){var f=u>0?$:-$,c=X(u-t);X(c-$)<R?(n.point(t,r=(r+o)/2>0?q:-q),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(f,r),n.point(u,r),e=0):i!==f&&c>=$&&(X(t-i)<R&&(t-=i*R),X(u-f)<R&&(u-=f*R),r=nr(t,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(f,r),e=0),n.point(t=u,r=o),i=f},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function nr(n,t,r,i){var e,u,o=J(n-r);return X(o)>R?Z((J(t)*(u=W(i))*J(r)-J(i)*(e=W(t))*J(n))/(e*u*o)):(t+i)/2}function tr(n,t,r,i){var e;if(n==null)e=r*q,i.point(-$,e),i.point(0,e),i.point($,e),i.point($,0),i.point($,-e),i.point(0,-e),i.point(-$,-e),i.point(-$,0),i.point(-$,e);else if(X(n[0]-t[0])>R){var u=n[0]<t[0]?$:-$;e=r*u/2,i.point(-u,e),i.point(0,e),i.point(u,e)}else i.point(t[0],t[1])}function rr(n){var t=W(n),r=2*I,i=t>0,e=X(t)>R;function u(t,i,e,u){qt(u,n,r,e,t,i)}function o(n,r){return W(n)*W(r)>t}function f(n){var t,r,u,f,s;return{lineStart:function(){f=u=false,s=1},point:function(l,h){var v=[l,h],p,y=o(l,h),d=i?y?0:a(l,h):y?a(l+(l<0?$:-$),h):0;if(!t&&(f=u=y)&&n.lineStart(),y!==u&&(p=c(t,v),(!p||It(t,p)||It(v,p))&&(v[2]=1)),y!==u)s=0,y?(n.lineStart(),p=c(v,t),n.point(p[0],p[1])):(p=c(t,v),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(e&&t&&i^y){var g;!(d&r)&&(g=c(v,t,true))&&(s=0,i?(n.lineStart(),n.point(g[0][0],g[0][1]),n.point(g[1][0],g[1][1]),n.lineEnd()):(n.point(g[1][0],g[1][1]),n.lineEnd(),n.lineStart(),n.point(g[0][0],g[0][1],3)))}y&&(!t||!It(t,v))&&n.point(v[0],v[1]),t=v,u=y,r=d},lineEnd:function(){u&&n.lineEnd(),t=null},clean:function(){return s|(f&&u)<<1}}}function c(n,r,i){var e=xn(n),u=xn(r),o=[1,0,0],f=On(e,u),c=Cn(f,f),a=f[0],s=c-a*a;if(!s)return!i&&n;var l=t*c/s,h=-t*a/s,v=On(o,f),p=zn(o,l),y=zn(f,h);Pn(p,y);var d=v,g=Cn(p,d),m=Cn(d,d),w=g*g-m*(Cn(p,p)-1);if(!(w<0)){var M=tn(w),b=zn(d,(-g-M)/m);if(Pn(b,p),b=An(b),!i)return b;var E=n[0],S=r[0],N=n[1],j=r[1],k;S<E&&(k=E,E=S,S=k);var A=S-E,x=X(A-$)<R,C=x||A<R;if(!x&&j<N&&(k=N,N=j,j=k),C?x?N+j>0^b[1]<(X(b[0]-E)<R?N:j):N<=b[1]&&b[1]<=j:A>$^(E<=b[0]&&b[0]<=S)){var O=zn(d,(-g+M)/m);return Pn(O,p),[b,An(O)]}}}function a(t,r){var e=i?n:$-n,u=0;return t<-e?u|=1:t>e&&(u|=2),r<-e?u|=4:r>e&&(u|=8),u}return Qt(o,f,u,i?[0,-n]:[-$,n-$])}function ir(n,t,r,i,e,u){var o=n[0],f=n[1],c=t[0],a=t[1],s=0,l=1,h=c-o,v=a-f,p;if(p=r-o,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>s&&(s=p)}if(p=e-o,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<l&&(l=p)}if(p=i-f,!(!v&&p>0)){if(p/=v,v<0){if(p<s)return;p<l&&(l=p)}else if(v>0){if(p>l)return;p>s&&(s=p)}if(p=u-f,!(!v&&p<0)){if(p/=v,v<0){if(p>l)return;p>s&&(s=p)}else if(v>0){if(p<s)return;p<l&&(l=p)}return s>0&&(n[0]=o+s*h,n[1]=f+s*v),l<1&&(t[0]=o+l*h,t[1]=f+l*v),true}}}}}var er=1e9,ur=-1e9;function or(n,t,r,i){function e(e,u){return n<=e&&e<=r&&t<=u&&u<=i}function u(e,u,f,a){var s=0,l=0;if(e==null||(s=o(e,f))!==(l=o(u,f))||c(e,u)<0^f>0)do{a.point(s===0||s===3?n:r,s>1?i:t)}while((s=(s+f+4)%4)!==l);else a.point(u[0],u[1])}function o(i,e){return X(i[0]-n)<R?e>0?0:3:X(i[0]-r)<R?e>0?2:1:X(i[1]-t)<R?e>0?1:0:e>0?3:2}function f(n,t){return c(n.x,t.x)}function c(n,t){var r=o(n,1),i=o(t,1);return r!==i?r-i:r===0?t[1]-n[1]:r===1?n[0]-t[0]:r===2?n[1]-t[1]:t[0]-n[0]}return function(o){var c=o,s=Dt(),l,h,v,p,y,d,g,m,w,M,b,E={point:S,lineStart:A,lineEnd:x,polygonStart:j,polygonEnd:k};function S(n,t){e(n,t)&&c.point(n,t)}function N(){for(var t=0,r=0,e=h.length;r<e;++r)for(var u=h[r],o=1,f=u.length,c=u[0],a,s,l=c[0],v=c[1];o<f;++o)a=l,s=v,c=u[o],l=c[0],v=c[1],s<=i?v>i&&(l-a)*(i-s)>(v-s)*(n-a)&&++t:v<=i&&(l-a)*(i-s)<(v-s)*(n-a)&&--t;return t}function j(){c=s,l=[],h=[],b=true}function k(){var n=N(),t=b&&n,r=(l=a(l)).length;(t||r)&&(o.polygonStart(),t&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),r&&Zt(l,f,n,u,o),o.polygonEnd()),c=o,l=h=v=null}function A(){E.point=C,h&&h.push(v=[]),M=true,w=false,g=m=NaN}function x(){l&&(C(p,y),d&&w&&s.rejoin(),l.push(s.result())),E.point=S,w&&c.lineEnd()}function C(u,o){var f=e(u,o);if(h&&v.push([u,o]),M)p=u,y=o,d=f,M=false,f&&(c.lineStart(),c.point(u,o));else if(f&&w)c.point(u,o);else{var a=[g=Math.max(ur,Math.min(er,g)),m=Math.max(ur,Math.min(er,m))],s=[u=Math.max(ur,Math.min(er,u)),o=Math.max(ur,Math.min(er,o))];ir(a,s,n,t,r,i)?(w||(c.lineStart(),c.point(a[0],a[1])),c.point(s[0],s[1]),f||c.lineEnd(),b=false):f&&(c.lineStart(),c.point(u,o),b=false)}g=u,m=o,w=f}return E}}function fr(){var n=0,t=0,r=960,i=500,e,u,o;return o={stream:function(o){return e&&u===o?e:e=or(n,t,r,i)(u=o)},extent:function(f){return arguments.length?(n=+f[0][0],t=+f[0][1],r=+f[1][0],i=+f[1][1],e=u=null,o):[[n,t],[r,i]]}}}var cr,ar,sr,lr,hr={sphere:fn,point:fn,lineStart:vr,lineEnd:fn,polygonStart:fn,polygonEnd:fn};function vr(){hr.point=yr,hr.lineEnd=pr}function pr(){hr.point=hr.lineEnd=fn}function yr(n,t){n*=I,t*=I,ar=n,sr=J(t),lr=W(t),hr.point=dr}function dr(n,t){n*=I,t*=I;var r=J(t),i=W(t),e=X(n-ar),u=W(e),o=J(e),f=i*o,c=lr*r-sr*i*u,a=sr*r+lr*i*u;cr.add(U(tn(f*f+c*c),a)),ar=n,sr=r,lr=i}function gr(n){return cr=new f,vn(n,hr),+cr}var mr=[null,null],wr={type:"LineString",coordinates:mr};function Mr(n,t){return mr[0]=n,mr[1]=t,gr(wr)}var br={Feature:function(n,t){return Sr(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(Sr(r[i].geometry,t))return true;return false}},Er={Sphere:function(){return true},Point:function(n,t){return Nr(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Nr(r[i],t))return true;return false},LineString:function(n,t){return jr(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(jr(r[i],t))return true;return false},Polygon:function(n,t){return kr(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(kr(r[i],t))return true;return false},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(Sr(r[i],t))return true;return false}};function Sr(n,t){return n&&Er.hasOwnProperty(n.type)?Er[n.type](n,t):false}function Nr(n,t){return Mr(n,t)===0}function jr(n,t){for(var r,i,e,u=0,o=n.length;u<o;u++){if(i=Mr(n[u],t),i===0||u>0&&(e=Mr(n[u],n[u-1]),e>0&&r<=e&&i<=e&&(r+i-e)*(1-Math.pow((r-i)/e,2))<G*e))return true;r=i}return false}function kr(n,t){return!!Yt(n.map(Ar),xr(t))}function Ar(n){return n=n.map(xr),n.pop(),n}function xr(n){return[n[0]*I,n[1]*I]}function Cr(n,t){return(n&&br.hasOwnProperty(n.type)?br[n.type]:Sr)(n,t)}function Or(n,t,r){var i=s(n,t-R,r).concat(t);return function(n){return i.map((function(t){return[n,t]}))}}function Pr(n,t,r){var i=s(n,t-R,r).concat(t);return function(n){return i.map((function(t){return[t,n]}))}}function zr(){var n,t,r,i,e,u,o,f,c=10,a=c,l=90,h=360,v,p,y,d,g=2.5;function m(){return{type:"MultiLineString",coordinates:w()}}function w(){return s(Y(i/l)*l,r,l).map(y).concat(s(Y(f/h)*h,o,h).map(d)).concat(s(Y(t/c)*c,n,c).filter((function(n){return X(n%l)>R})).map(v)).concat(s(Y(u/a)*a,e,a).filter((function(n){return X(n%h)>R})).map(p))}return m.lines=function(){return w().map((function(n){return{type:"LineString",coordinates:n}}))},m.outline=function(){return{type:"Polygon",coordinates:[y(i).concat(d(o).slice(1),y(r).reverse().slice(1),d(f).reverse().slice(1))]}},m.extent=function(n){return arguments.length?m.extentMajor(n).extentMinor(n):m.extentMinor()},m.extentMajor=function(n){return arguments.length?(i=+n[0][0],r=+n[1][0],f=+n[0][1],o=+n[1][1],i>r&&(n=i,i=r,r=n),f>o&&(n=f,f=o,o=n),m.precision(g)):[[i,f],[r,o]]},m.extentMinor=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],u=+r[0][1],e=+r[1][1],t>n&&(r=t,t=n,n=r),u>e&&(r=u,u=e,e=r),m.precision(g)):[[t,u],[n,e]]},m.step=function(n){return arguments.length?m.stepMajor(n).stepMinor(n):m.stepMinor()},m.stepMajor=function(n){return arguments.length?(l=+n[0],h=+n[1],m):[l,h]},m.stepMinor=function(n){return arguments.length?(c=+n[0],a=+n[1],m):[c,a]},m.precision=function(c){return arguments.length?(g=+c,v=Or(u,e,90),p=Pr(t,n,g),y=Or(f,o,90),d=Pr(i,r,g),m):g},m.extentMajor([[-180,-90+R],[180,90-R]]).extentMinor([[-180,-80-R],[180,80+R]])}function Tr(){return zr()()}function _r(n,t){var r=n[0]*I,i=n[1]*I,e=t[0]*I,u=t[1]*I,o=W(i),f=J(i),c=W(u),a=J(u),s=o*W(r),l=o*J(r),h=c*W(e),v=c*J(e),p=2*un(tn(on(u-i)+o*c*on(e-r))),y=J(p),d=p?function(n){var t=J(n*=p)/y,r=J(p-n)/y,i=r*s+t*h,e=r*l+t*v,u=r*f+t*a;return[U(e,i)*D,U(u,tn(i*i+e*e))*D]}:function(){return[r*D,i*D]};return d.distance=p,d}const Lr=n=>n;var Rr=new f,Gr=new f,$r,qr,Fr,Br,Dr={point:fn,lineStart:fn,lineEnd:fn,polygonStart:function(){Dr.lineStart=Ir,Dr.lineEnd=Ur},polygonEnd:function(){Dr.lineStart=Dr.lineEnd=Dr.point=fn,Rr.add(X(Gr)),Gr=new f},result:function(){var n=Rr/2;return Rr=new f,n}};function Ir(){Dr.point=Xr}function Xr(n,t){Dr.point=Zr,$r=Fr=n,qr=Br=t}function Zr(n,t){Gr.add(Br*n-Fr*t),Fr=n,Br=t}function Ur(){Zr($r,qr)}var Wr=1/0,Yr=Wr,Qr=-Wr,Kr=Qr,Vr={point:Hr,lineStart:fn,lineEnd:fn,polygonStart:fn,polygonEnd:fn,result:function(){var n=[[Wr,Yr],[Qr,Kr]];return Qr=Kr=-(Yr=Wr=1/0),n}};function Hr(n,t){n<Wr&&(Wr=n),n>Qr&&(Qr=n),t<Yr&&(Yr=t),t>Kr&&(Kr=t)}var Jr=0,ni=0,ti=0,ri=0,ii=0,ei=0,ui=0,oi=0,fi=0,ci,ai,si,li,hi={point:vi,lineStart:pi,lineEnd:gi,polygonStart:function(){hi.lineStart=mi,hi.lineEnd=wi},polygonEnd:function(){hi.point=vi,hi.lineStart=pi,hi.lineEnd=gi},result:function(){var n=fi?[ui/fi,oi/fi]:ei?[ri/ei,ii/ei]:ti?[Jr/ti,ni/ti]:[NaN,NaN];return Jr=ni=ti=ri=ii=ei=ui=oi=fi=0,n}};function vi(n,t){Jr+=n,ni+=t,++ti}function pi(){hi.point=yi}function yi(n,t){hi.point=di,vi(si=n,li=t)}function di(n,t){var r=n-si,i=t-li,e=tn(r*r+i*i);ri+=e*(si+n)/2,ii+=e*(li+t)/2,ei+=e,vi(si=n,li=t)}function gi(){hi.point=vi}function mi(){hi.point=Mi}function wi(){bi(ci,ai)}function Mi(n,t){hi.point=bi,vi(ci=si=n,ai=li=t)}function bi(n,t){var r=n-si,i=t-li,e=tn(r*r+i*i);ri+=e*(si+n)/2,ii+=e*(li+t)/2,ei+=e,e=li*n-si*t,ui+=e*(si+n),oi+=e*(li+t),fi+=e*3,vi(si=n,li=t)}function Ei(n){this._context=n}Ei.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,B);break}}},result:fn};var Si=new f,Ni,ji,ki,Ai,xi,Ci={point:fn,lineStart:function(){Ci.point=Oi},lineEnd:function(){Ni&&Pi(ji,ki),Ci.point=fn},polygonStart:function(){Ni=true},polygonEnd:function(){Ni=null},result:function(){var n=+Si;return Si=new f,n}};function Oi(n,t){Ci.point=Pi,ji=Ai=n,ki=xi=t}function Pi(n,t){Ai-=n,xi-=t,Si.add(tn(Ai*Ai+xi*xi)),Ai=n,xi=t}let zi,Ti,_i,Li;class Ri{constructor(n){this._append=n==null?Gi:$i(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:{this._append`M${n},${t}`,this._point=1;break}case 1:{this._append`L${n},${t}`;break}default:{if(this._append`M${n},${t}`,this._radius!==_i||this._append!==Ti){const n=this._radius,t=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,_i=n,Ti=this._append,Li=this._,this._=t}this._+=Li;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Gi(n){let t=1;this._+=n[0];for(const r=n.length;t<r;++t)this._+=arguments[t]+n[t]}function $i(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Gi;if(t!==zi){const n=10**t;zi=t,Ti=function(t){let r=1;this._+=t[0];for(const i=t.length;r<i;++r)this._+=Math.round(arguments[r]*n)/n+t[r]}}return Ti}function qi(n,t){let r=3,i=4.5,e,u;function o(n){return n&&(typeof i=="function"&&u.pointRadius(+i.apply(this,arguments)),vn(n,e(u))),u.result()}return o.area=function(n){return vn(n,e(Dr)),Dr.result()},o.measure=function(n){return vn(n,e(Ci)),Ci.result()},o.bounds=function(n){return vn(n,e(Vr)),Vr.result()},o.centroid=function(n){return vn(n,e(hi)),hi.result()},o.projection=function(t){return arguments.length?(e=t==null?(n=null,Lr):(n=t).stream,o):n},o.context=function(n){return arguments.length?(u=n==null?(t=null,new Ri(r)):new Ei(t=n),typeof i!="function"&&u.pointRadius(i),o):t},o.pointRadius=function(n){return arguments.length?(i=typeof n=="function"?n:(u.pointRadius(+n),+n),o):i},o.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);r=t}return t===null&&(u=new Ri(r)),o},o.projection(n).digits(r).context(t)}function Fi(n){return{stream:Bi(n)}}function Bi(n){return function(t){var r=new Di;for(var i in n)r[i]=n[i];return r.stream=t,r}}function Di(){}Di.prototype={constructor:Di,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ii(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),vn(r,n.stream(Vr)),t(Vr.result()),i!=null&&n.clipExtent(i),n}function Xi(n,t,r){return Ii(n,(function(r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],u=Math.min(i/(r[1][0]-r[0][0]),e/(r[1][1]-r[0][1])),o=+t[0][0]+(i-u*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(e-u*(r[1][1]+r[0][1]))/2;n.scale(150*u).translate([o,f])}),r)}function Zi(n,t,r){return Xi(n,[[0,0],t],r)}function Ui(n,t,r){return Ii(n,(function(r){var i=+t,e=i/(r[1][0]-r[0][0]),u=(i-e*(r[1][0]+r[0][0]))/2,o=-e*r[0][1];n.scale(150*e).translate([u,o])}),r)}function Wi(n,t,r){return Ii(n,(function(r){var i=+t,e=i/(r[1][1]-r[0][1]),u=-e*r[0][0],o=(i-e*(r[1][1]+r[0][1]))/2;n.scale(150*e).translate([u,o])}),r)}var Yi=16,Qi=W(30*I);function Ki(n,t){return+t?Hi(n,t):Vi(n)}function Vi(n){return Bi({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Hi(n,t){function r(i,e,u,o,f,c,a,s,l,h,v,p,y,d){var g=a-i,m=s-e,w=g*g+m*m;if(w>4*t&&y--){var M=o+h,b=f+v,E=c+p,S=tn(M*M+b*b+E*E),N=un(E/=S),j=X(X(E)-1)<R||X(u-l)<R?(u+l)/2:U(b,M),k=n(j,N),A=k[0],x=k[1],C=A-i,O=x-e,P=m*C-g*O;(P*P/w>t||X((g*C+m*O)/w-.5)>.3||o*h+f*v+c*p<Qi)&&(r(i,e,u,o,f,c,A,x,j,M/=S,b/=S,E,y,d),d.point(A,x),r(A,x,j,M,b,E,a,s,l,h,v,p,y,d))}}return function(t){var i,e,u,o,f,c,a,s,l,h,v,p,y={point:d,lineStart:g,lineEnd:w,polygonStart:function(){t.polygonStart(),y.lineStart=M},polygonEnd:function(){t.polygonEnd(),y.lineStart=g}};function d(r,i){r=n(r,i),t.point(r[0],r[1])}function g(){s=NaN,y.point=m,t.lineStart()}function m(i,e){var u=xn([i,e]),o=n(i,e);r(s,l,a,h,v,p,s=o[0],l=o[1],a=i,h=u[0],v=u[1],p=u[2],Yi,t),t.point(s,l)}function w(){y.point=d,t.lineEnd()}function M(){g(),y.point=b,y.lineEnd=E}function b(n,t){m(i=n,t),e=s,u=l,o=h,f=v,c=p,y.point=m}function E(){r(s,l,a,h,v,p,e,u,i,o,f,c,Yi,t),y.lineEnd=w,w()}return y}}var Ji=Bi({point:function(n,t){this.stream.point(n*I,t*I)}});function ne(n){return Bi({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function te(n,t,r,i,e){function u(u,o){return u*=i,o*=e,[t+n*u,r-n*o]}return u.invert=function(u,o){return[(u-t)/n*i,(r-o)/n*e]},u}function re(n,t,r,i,e,u){if(!u)return te(n,t,r,i,e);var o=W(u),f=J(u),c=o*n,a=f*n,s=o/n,l=f/n,h=(f*r-o*t)/n,v=(f*t+o*r)/n;function p(n,u){return n*=i,u*=e,[c*n-a*u+t,r-a*n-c*u]}return p.invert=function(n,t){return[i*(s*n-l*t+h),e*(v-l*n-s*t)]},p}function ie(n){return ee((function(){return n}))()}function ee(n){var t,r=150,i=480,e=250,u=0,o=0,f=0,c=0,a=0,s,l=0,h=1,v=1,p=null,y=Ht,d=null,g,m,w,M=Lr,b=.5,E,S,N,j,k;function A(n){return N(n[0]*I,n[1]*I)}function x(n){return n=N.invert(n[0],n[1]),n&&[n[0]*D,n[1]*D]}A.stream=function(n){return j&&k===n?j:j=Ji(ne(s)(y(E(M(k=n)))))},A.preclip=function(n){return arguments.length?(y=n,p=void 0,O()):y},A.postclip=function(n){return arguments.length?(M=n,d=g=m=w=null,O()):M},A.clipAngle=function(n){return arguments.length?(y=+n?rr(p=n*I):(p=null,Ht),O()):p*D},A.clipExtent=function(n){return arguments.length?(M=n==null?(d=g=m=w=null,Lr):or(d=+n[0][0],g=+n[0][1],m=+n[1][0],w=+n[1][1]),O()):d==null?null:[[d,g],[m,w]]},A.scale=function(n){return arguments.length?(r=+n,C()):r},A.translate=function(n){return arguments.length?(i=+n[0],e=+n[1],C()):[i,e]},A.center=function(n){return arguments.length?(u=n[0]%360*I,o=n[1]%360*I,C()):[u*D,o*D]},A.rotate=function(n){return arguments.length?(f=n[0]%360*I,c=n[1]%360*I,a=n.length>2?n[2]%360*I:0,C()):[f*D,c*D,a*D]},A.angle=function(n){return arguments.length?(l=n%360*I,C()):l*D},A.reflectX=function(n){return arguments.length?(h=n?-1:1,C()):h<0},A.reflectY=function(n){return arguments.length?(v=n?-1:1,C()):v<0},A.precision=function(n){return arguments.length?(E=Ki(S,b=n*n),O()):tn(b)},A.fitExtent=function(n,t){return Xi(A,n,t)},A.fitSize=function(n,t){return Zi(A,n,t)},A.fitWidth=function(n,t){return Ui(A,n,t)},A.fitHeight=function(n,t){return Wi(A,n,t)};function C(){var n=re(r,0,0,h,v,l).apply(null,t(u,o)),p=re(r,i-n[0],e-n[1],h,v,l);return s=_t(f,c,a),S=zt(t,p),N=zt(s,S),E=Ki(S,b),O()}function O(){return j=k=null,A}return function(){return t=n.apply(this,arguments),A.invert=t.invert&&x,C()}}function ue(n){var t=0,r=$/3,i=ee(n),e=i(t,r);return e.parallels=function(n){return arguments.length?i(t=n[0]*I,r=n[1]*I):[t*D,r*D]},e}function oe(n){var t=W(n);function r(n,r){return[n*t,J(r)/t]}return r.invert=function(n,r){return[n/t,un(r*t)]},r}function fe(n,t){var r=J(n),i=(r+J(t))/2;if(X(i)<R)return oe(n);var e=1+r*(2*i-r),u=tn(e)/i;function o(n,t){var r=tn(e-2*i*J(t))/i;return[r*J(n*=i),u-r*W(n)]}return o.invert=function(n,t){var r=u-t,o=U(n,X(r))*nn(r);return r*i<0&&(o-=$*nn(n)*nn(r)),[o/i,un((e-(n*n+r*r)*i*i)/(2*i))]},o}function ce(){return ue(fe).scale(155.424).center([0,33.6442])}function ae(){return ce().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function se(n){var t=n.length;return{point:function(r,i){for(var e=-1;++e<t;)n[e].point(r,i)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function le(){var n,t,r=ae(),i,e=ce().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u,o=ce().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,a={point:function(n,t){c=[n,t]}};function s(n){var t=n[0],r=n[1];return c=null,i.point(t,r),c||(u.point(t,r),c)||(f.point(t,r),c)}s.invert=function(n){var t=r.scale(),i=r.translate(),u=(n[0]-i[0])/t,f=(n[1]-i[1])/t;return(f>=.12&&f<.234&&u>=-.425&&u<-.214?e:f>=.166&&f<.234&&u>=-.214&&u<-.115?o:r).invert(n)},s.stream=function(i){return n&&t===i?n:n=se([r.stream(t=i),e.stream(i),o.stream(i)])},s.precision=function(n){return arguments.length?(r.precision(n),e.precision(n),o.precision(n),l()):r.precision()},s.scale=function(n){return arguments.length?(r.scale(n),e.scale(n*.35),o.scale(n),s.translate(r.translate())):r.scale()},s.translate=function(n){if(!arguments.length)return r.translate();var t=r.scale(),c=+n[0],s=+n[1];return i=r.translate(n).clipExtent([[c-.455*t,s-.238*t],[c+.455*t,s+.238*t]]).stream(a),u=e.translate([c-.307*t,s+.201*t]).clipExtent([[c-.425*t+R,s+.12*t+R],[c-.214*t-R,s+.234*t-R]]).stream(a),f=o.translate([c-.205*t,s+.212*t]).clipExtent([[c-.214*t+R,s+.166*t+R],[c-.115*t-R,s+.234*t-R]]).stream(a),l()},s.fitExtent=function(n,t){return Xi(s,n,t)},s.fitSize=function(n,t){return Zi(s,n,t)},s.fitWidth=function(n,t){return Ui(s,n,t)},s.fitHeight=function(n,t){return Wi(s,n,t)};function l(){return n=t=null,s}return s.scale(1070)}function he(n){return function(t,r){var i=W(t),e=W(r),u=n(i*e);return u===1/0?[2,0]:[u*e*J(t),u*J(r)]}}function ve(n){return function(t,r){var i=tn(t*t+r*r),e=n(i),u=J(e),o=W(e);return[U(t*u,i*o),un(i&&r*u/i)]}}var pe=he((function(n){return tn(2/(1+n))}));pe.invert=ve((function(n){return 2*un(n/2)}));function ye(){return ie(pe).scale(124.75).clipAngle(180-.001)}var de=he((function(n){return(n=en(n))&&n/J(n)}));de.invert=ve((function(n){return n}));function ge(){return ie(de).scale(79.4188).clipAngle(180-.001)}function me(n,t){return[n,V(rn((q+t)/2))]}me.invert=function(n,t){return[n,2*Z(Q(t))-q]};function we(){return Me(me).scale(961/B)}function Me(n){var t=ie(n),r=t.center,i=t.scale,e=t.translate,u=t.clipExtent,o=null,f,c,a;t.scale=function(n){return arguments.length?(i(n),s()):i()},t.translate=function(n){return arguments.length?(e(n),s()):e()},t.center=function(n){return arguments.length?(r(n),s()):r()},t.clipExtent=function(n){return arguments.length?(n==null?o=f=c=a=null:(o=+n[0][0],f=+n[0][1],c=+n[1][0],a=+n[1][1]),s()):o==null?null:[[o,f],[c,a]]};function s(){var r=$*i(),e=t($t(t.rotate()).invert([0,0]));return u(o==null?[[e[0]-r,e[1]-r],[e[0]+r,e[1]+r]]:n===me?[[Math.max(e[0]-r,o),f],[Math.min(e[0]+r,c),a]]:[[o,Math.max(e[1]-r,f)],[c,Math.min(e[1]+r,a)]])}return s()}function be(n){return rn((q+n)/2)}function Ee(n,t){var r=W(n),i=n===t?J(n):V(r/W(t))/V(be(t)/be(n)),e=r*H(be(n),i)/i;if(!i)return me;function u(n,t){e>0?t<-q+R&&(t=-q+R):t>q-R&&(t=q-R);var r=e/H(be(t),i);return[r*J(i*n),e-r*W(i*n)]}return u.invert=function(n,t){var r=e-t,u=nn(i)*tn(n*n+r*r),o=U(n,X(r))*nn(r);return r*i<0&&(o-=$*nn(n)*nn(r)),[o/i,2*Z(H(e/u,1/i))-q]},u}function Se(){return ue(Ee).scale(109.5).parallels([30,30])}function Ne(n,t){return[n,t]}Ne.invert=Ne;function je(){return ie(Ne).scale(152.63)}function ke(n,t){var r=W(n),i=n===t?J(n):(r-W(t))/(t-n),e=r/i+n;if(X(i)<R)return Ne;function u(n,t){var r=e-t,u=i*n;return[r*J(u),e-r*W(u)]}return u.invert=function(n,t){var r=e-t,u=U(n,X(r))*nn(r);return r*i<0&&(u-=$*nn(n)*nn(r)),[u/i,e-nn(i)*tn(n*n+r*r)]},u}function Ae(){return ue(ke).scale(131.154).center([0,13.9389])}var xe=1.340264,Ce=-.081106,Oe=893e-6,Pe=.003796,ze=tn(3)/2,Te=12;function _e(n,t){var r=un(ze*J(t)),i=r*r,e=i*i*i;return[n*W(r)/(ze*(xe+3*Ce*i+e*(7*Oe+9*Pe*i))),r*(xe+Ce*i+e*(Oe+Pe*i))]}_e.invert=function(n,t){for(var r=t,i=r*r,e=i*i*i,u=0,o,f,c;u<Te&&(f=r*(xe+Ce*i+e*(Oe+Pe*i))-t,c=xe+3*Ce*i+e*(7*Oe+9*Pe*i),r-=o=f/c,i=r*r,e=i*i*i,!(X(o)<G));++u);return[ze*n*(xe+3*Ce*i+e*(7*Oe+9*Pe*i))/W(r),un(J(r)/ze)]};function Le(){return ie(_e).scale(177.158)}function Re(n,t){var r=W(t),i=W(n)*r;return[r*J(n)/i,J(t)/i]}Re.invert=ve(Z);function Ge(){return ie(Re).scale(144.049).clipAngle(60)}function $e(){var n=1,t=0,r=0,i=1,e=1,u=0,o,f,c=null,a,s,l,h=1,v=1,p=Bi({point:function(n,t){var r=w([n,t]);this.stream.point(r[0],r[1])}}),y=Lr,d,g;function m(){return h=n*i,v=n*e,d=g=null,w}function w(n){var i=n[0]*h,e=n[1]*v;if(u){var c=e*o-i*f;i=i*o+e*f,e=c}return[i+t,e+r]}return w.invert=function(n){var i=n[0]-t,e=n[1]-r;if(u){var c=e*o+i*f;i=i*o-e*f,e=c}return[i/h,e/v]},w.stream=function(n){return d&&g===n?d:d=p(y(g=n))},w.postclip=function(n){return arguments.length?(y=n,c=a=s=l=null,m()):y},w.clipExtent=function(n){return arguments.length?(y=n==null?(c=a=s=l=null,Lr):or(c=+n[0][0],a=+n[0][1],s=+n[1][0],l=+n[1][1]),m()):c==null?null:[[c,a],[s,l]]},w.scale=function(t){return arguments.length?(n=+t,m()):n},w.translate=function(n){return arguments.length?(t=+n[0],r=+n[1],m()):[t,r]},w.angle=function(n){return arguments.length?(u=n%360*I,f=J(u),o=W(u),m()):u*D},w.reflectX=function(n){return arguments.length?(i=n?-1:1,m()):i<0},w.reflectY=function(n){return arguments.length?(e=n?-1:1,m()):e<0},w.fitExtent=function(n,t){return Xi(w,n,t)},w.fitSize=function(n,t){return Zi(w,n,t)},w.fitWidth=function(n,t){return Ui(w,n,t)},w.fitHeight=function(n,t){return Wi(w,n,t)},w}function qe(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}qe.invert=function(n,t){var r=t,i=25,e;do{var u=r*r,o=u*u;r-=e=(r*(1.007226+u*(.015085+o*(-.044475+.028874*u-.005916*o)))-t)/(1.007226+u*(.015085*3+o*(-.044475*7+.028874*9*u-.005916*11*o)))}while(X(e)>R&&--i>0);return[n/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function Fe(){return ie(qe).scale(175.295)}function Be(n,t){return[W(t)*J(n),J(t)]}Be.invert=ve(un);function De(){return ie(Be).scale(249.5).clipAngle(90+R)}function Ie(n,t){var r=W(t),i=1+W(n)*r;return[r*J(n)/i,J(t)/i]}Ie.invert=ve((function(n){return 2*Z(n)}));function Xe(){return ie(Ie).scale(250).clipAngle(142)}function Ze(n,t){return[V(rn((q+t)/2)),-n]}Ze.invert=function(n,t){return[-t,2*Z(Q(n))-q]};function Ue(){var n=Me(Ze),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}const We=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:ae,geoAlbersUsa:le,geoArea:kn,geoAzimuthalEqualArea:ye,geoAzimuthalEqualAreaRaw:pe,geoAzimuthalEquidistant:ge,geoAzimuthalEquidistantRaw:de,geoBounds:rt,geoCentroid:Ot,geoCircle:Bt,geoClipAntimeridian:Ht,geoClipCircle:rr,geoClipExtent:fr,geoClipRectangle:or,geoConicConformal:Se,geoConicConformalRaw:Ee,geoConicEqualArea:ce,geoConicEqualAreaRaw:fe,geoConicEquidistant:Ae,geoConicEquidistantRaw:ke,geoContains:Cr,geoDistance:Mr,geoEqualEarth:Le,geoEqualEarthRaw:_e,geoEquirectangular:je,geoEquirectangularRaw:Ne,geoGnomonic:Ge,geoGnomonicRaw:Re,geoGraticule:zr,geoGraticule10:Tr,geoIdentity:$e,geoInterpolate:_r,geoLength:gr,geoMercator:we,geoMercatorRaw:me,geoNaturalEarth1:Fe,geoNaturalEarth1Raw:qe,geoOrthographic:De,geoOrthographicRaw:Be,geoPath:qi,geoProjection:ie,geoProjectionMutator:ee,geoRotation:$t,geoStereographic:Xe,geoStereographicRaw:Ie,geoStream:vn,geoTransform:Fi,geoTransverseMercator:Ue,geoTransverseMercatorRaw:Ze},Symbol.toStringTag,{value:"Module"}));function Ye(n){return n}function Qe(n){if(n==null)return Ye;var t,r,i=n.scale[0],e=n.scale[1],u=n.translate[0],o=n.translate[1];return function(n,f){f||(t=r=0);var c=2,a=n.length,s=new Array(a);for(s[0]=(t+=n[0])*i+u,s[1]=(r+=n[1])*e+o;c<a;)s[c]=n[c],++c;return s}}function Ke(n,t){for(var r,i=n.length,e=i-t;e<--i;)r=n[e],n[e++]=n[i],n[i]=r}function Ve(n,t){return typeof t=="string"&&(t=n.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map((function(t){return He(n,t)}))}:He(n,t)}function He(n,t){var r=t.id,i=t.bbox,e=t.properties==null?{}:t.properties,u=Je(n,t);return r==null&&i==null?{type:"Feature",properties:e,geometry:u}:i==null?{type:"Feature",id:r,properties:e,geometry:u}:{type:"Feature",id:r,bbox:i,properties:e,geometry:u}}function Je(n,t){var r=Qe(n.transform),i=n.arcs;function e(n,t){t.length&&t.pop();for(var e=i[n<0?~n:n],u=0,o=e.length;u<o;++u)t.push(r(e[u],u));n<0&&Ke(t,o)}function u(n){return r(n)}function o(n){for(var t=[],r=0,i=n.length;r<i;++r)e(n[r],t);return t.length<2&&t.push(t[0]),t}function f(n){for(var t=o(n);t.length<4;)t.push(t[0]);return t}function c(n){return n.map(f)}function a(n){var t=n.type,r;switch(t){case"GeometryCollection":return{type:t,geometries:n.geometries.map(a)};case"Point":r=u(n.coordinates);break;case"MultiPoint":r=n.coordinates.map(u);break;case"LineString":r=o(n.arcs);break;case"MultiLineString":r=n.arcs.map(o);break;case"Polygon":r=c(n.arcs);break;case"MultiPolygon":r=n.arcs.map(c);break;default:return null}return{type:t,coordinates:r}}return a(t)}function nu(n,t){var r={},i={},e={},u=[],o=-1;t.forEach((function(r,i){var e=n.arcs[r<0?~r:r],u;e.length<3&&!e[1][0]&&!e[1][1]&&(u=t[++o],t[o]=r,t[i]=u)})),t.forEach((function(n){var t=f(n),r=t[0],u=t[1],o,c;if(o=e[r])if(delete e[o.end],o.push(n),o.end=u,c=i[u]){delete i[c.start];var a=c===o?o:o.concat(c);i[a.start=o.start]=e[a.end=c.end]=a}else i[o.start]=e[o.end]=o;else if(o=i[u])if(delete i[o.start],o.unshift(n),o.start=r,c=e[r]){delete e[c.end];var s=c===o?o:c.concat(o);i[s.start=c.start]=e[s.end=o.end]=s}else i[o.start]=e[o.end]=o;else o=[n],i[o.start=r]=e[o.end=u]=o}));function f(t){var r=n.arcs[t<0?~t:t],i=r[0],e;return n.transform?(e=[0,0],r.forEach((function(n){e[0]+=n[0],e[1]+=n[1]}))):e=r[r.length-1],t<0?[e,i]:[i,e]}function c(n,t){for(var i in n){var e=n[i];delete t[e.start],delete e.start,delete e.end,e.forEach((function(n){r[n<0?~n:n]=1})),u.push(e)}}return c(e,i),c(i,e),t.forEach((function(n){r[n<0?~n:n]||u.push([n])})),u}function tu(n){return Je(n,ru.apply(this,arguments))}function ru(n,t,r){var i,e,u;if(arguments.length>1)i=iu(n,t,r);else for(e=0,i=new Array(u=n.arcs.length);e<u;++e)i[e]=e;return{type:"MultiLineString",arcs:nu(n,i)}}function iu(n,t,r){var i=[],e=[],u;function o(n){var t=n<0?~n:n;(e[t]||(e[t]=[])).push({i:n,g:u})}function f(n){n.forEach(o)}function c(n){n.forEach(f)}function a(n){n.forEach(c)}function s(n){switch(u=n,n.type){case"GeometryCollection":n.geometries.forEach(s);break;case"LineString":f(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":a(n.arcs);break}}return s(t),e.forEach(r==null?function(n){i.push(n[0].i)}:function(n){r(n[0].g,n[n.length-1].g)&&i.push(n[0].i)}),i}var eu="http://www.w3.org/1999/xhtml";const uu={svg:"http://www.w3.org/2000/svg",xhtml:eu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ou(n){var t=n+="",r=t.indexOf(":");return r>=0&&(t=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),uu.hasOwnProperty(t)?{space:uu[t],local:n}:n}function fu(n){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===eu&&t.documentElement.namespaceURI===eu?t.createElement(n):t.createElementNS(r,n)}}function cu(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function au(n){var t=ou(n);return(t.local?cu:fu)(t)}function su(){}function lu(n){return n==null?su:function(){return this.querySelector(n)}}function hu(n){typeof n!="function"&&(n=lu(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u=t[e],o=u.length,f=i[e]=new Array(o),c,a,s=0;s<o;++s)(c=u[s])&&(a=n.call(c,c.__data__,s,u))&&("__data__"in c&&(a.__data__=c.__data__),f[s]=a);return new tf(i,this._parents)}function vu(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function pu(){return[]}function yu(n){return n==null?pu:function(){return this.querySelectorAll(n)}}function du(n){return function(){return vu(n.apply(this,arguments))}}function gu(n){typeof n=="function"?n=du(n):n=yu(n);for(var t=this._groups,r=t.length,i=[],e=[],u=0;u<r;++u)for(var o=t[u],f=o.length,c,a=0;a<f;++a)(c=o[a])&&(i.push(n.call(c,c.__data__,a,o)),e.push(c));return new tf(i,e)}function mu(n){return function(){return this.matches(n)}}function wu(n){return function(t){return t.matches(n)}}var Mu=Array.prototype.find;function bu(n){return function(){return Mu.call(this.children,n)}}function Eu(){return this.firstElementChild}function Su(n){return this.select(n==null?Eu:bu(typeof n=="function"?n:wu(n)))}var Nu=Array.prototype.filter;function ju(){return Array.from(this.children)}function ku(n){return function(){return Nu.call(this.children,n)}}function Au(n){return this.selectAll(n==null?ju:ku(typeof n=="function"?n:wu(n)))}function xu(n){typeof n!="function"&&(n=mu(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u=t[e],o=u.length,f=i[e]=[],c,a=0;a<o;++a)(c=u[a])&&n.call(c,c.__data__,a,u)&&f.push(c);return new tf(i,this._parents)}function Cu(n){return new Array(n.length)}function Ou(){return new tf(this._enter||this._groups.map(Cu),this._parents)}function Pu(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Pu.prototype={constructor:Pu,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function zu(n){return function(){return n}}function Tu(n,t,r,i,e,u){for(var o=0,f,c=t.length,a=u.length;o<a;++o)(f=t[o])?(f.__data__=u[o],i[o]=f):r[o]=new Pu(n,u[o]);for(;o<c;++o)(f=t[o])&&(e[o]=f)}function _u(n,t,r,i,e,u,o){var f,c,a=new Map,s=t.length,l=u.length,h=new Array(s),v;for(f=0;f<s;++f)(c=t[f])&&(h[f]=v=o.call(c,c.__data__,f,t)+"",a.has(v)?e[f]=c:a.set(v,c));for(f=0;f<l;++f)v=o.call(n,u[f],f,u)+"",(c=a.get(v))?(i[f]=c,c.__data__=u[f],a.delete(v)):r[f]=new Pu(n,u[f]);for(f=0;f<s;++f)(c=t[f])&&a.get(h[f])===c&&(e[f]=c)}function Lu(n){return n.__data__}function Ru(n,t){if(!arguments.length)return Array.from(this,Lu);var r=t?_u:Tu,i=this._parents,e=this._groups;typeof n!="function"&&(n=zu(n));for(var u=e.length,o=new Array(u),f=new Array(u),c=new Array(u),a=0;a<u;++a){var s=i[a],l=e[a],h=l.length,v=Gu(n.call(s,s&&s.__data__,a,i)),p=v.length,y=f[a]=new Array(p),d=o[a]=new Array(p),g=c[a]=new Array(h);r(s,l,y,d,g,v,t);for(var m=0,w=0,M,b;m<p;++m)if(M=y[m]){for(m>=w&&(w=m+1);!(b=d[w])&&++w<p;);M._next=b||null}}return o=new tf(o,i),o._enter=f,o._exit=c,o}function Gu(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function $u(){return new tf(this._exit||this._groups.map(Cu),this._parents)}function qu(n,t,r){var i=this.enter(),e=this,u=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(e=t(e),e&&(e=e.selection())),r==null?u.remove():r(u),i&&e?i.merge(e).order():e}function Fu(n){for(var t=n.selection?n.selection():n,r=this._groups,i=t._groups,e=r.length,u=i.length,o=Math.min(e,u),f=new Array(e),c=0;c<o;++c)for(var a=r[c],s=i[c],l=a.length,h=f[c]=new Array(l),v,p=0;p<l;++p)(v=a[p]||s[p])&&(h[p]=v);for(;c<e;++c)f[c]=r[c];return new tf(f,this._parents)}function Bu(){for(var n=this._groups,t=-1,r=n.length;++t<r;)for(var i=n[t],e=i.length-1,u=i[e],o;--e>=0;)(o=i[e])&&(u&&o.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(o,u),u=o);return this}function Du(n){n||(n=Iu);function t(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}for(var r=this._groups,i=r.length,e=new Array(i),u=0;u<i;++u){for(var o=r[u],f=o.length,c=e[u]=new Array(f),a,s=0;s<f;++s)(a=o[s])&&(c[s]=a);c.sort(t)}return new tf(e,this._parents).order()}function Iu(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Xu(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function Zu(){return Array.from(this)}function Uu(){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var i=n[t],e=0,u=i.length;e<u;++e){var o=i[e];if(o)return o}return null}function Wu(){let n=0;for(const t of this)++n;return n}function Yu(){return!this.node()}function Qu(n){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var e=t[r],u=0,o=e.length,f;u<o;++u)(f=e[u])&&n.call(f,f.__data__,u,e);return this}function Ku(n){return function(){this.removeAttribute(n)}}function Vu(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Hu(n,t){return function(){this.setAttribute(n,t)}}function Ju(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function no(n,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function to(n,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function ro(n,t){var r=ou(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?Vu:Ku:typeof t=="function"?r.local?to:no:r.local?Ju:Hu)(r,t))}function io(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function eo(n){return function(){this.style.removeProperty(n)}}function uo(n,t,r){return function(){this.style.setProperty(n,t,r)}}function oo(n,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function fo(n,t,r){return arguments.length>1?this.each((t==null?eo:typeof t=="function"?oo:uo)(n,t,r??"")):co(this.node(),n)}function co(n,t){return n.style.getPropertyValue(t)||io(n).getComputedStyle(n,null).getPropertyValue(t)}function ao(n){return function(){delete this[n]}}function so(n,t){return function(){this[n]=t}}function lo(n,t){return function(){var r=t.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function ho(n,t){return arguments.length>1?this.each((t==null?ao:typeof t=="function"?lo:so)(n,t)):this.node()[n]}function vo(n){return n.trim().split(/^|\s+/)}function po(n){return n.classList||new yo(n)}function yo(n){this._node=n,this._names=vo(n.getAttribute("class")||"")}yo.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function go(n,t){for(var r=po(n),i=-1,e=t.length;++i<e;)r.add(t[i])}function mo(n,t){for(var r=po(n),i=-1,e=t.length;++i<e;)r.remove(t[i])}function wo(n){return function(){go(this,n)}}function Mo(n){return function(){mo(this,n)}}function bo(n,t){return function(){(t.apply(this,arguments)?go:mo)(this,n)}}function Eo(n,t){var r=vo(n+"");if(arguments.length<2){for(var i=po(this.node()),e=-1,u=r.length;++e<u;)if(!i.contains(r[e]))return false;return true}return this.each((typeof t=="function"?bo:t?wo:Mo)(r,t))}function So(){this.textContent=""}function No(n){return function(){this.textContent=n}}function jo(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function ko(n){return arguments.length?this.each(n==null?So:(typeof n=="function"?jo:No)(n)):this.node().textContent}function Ao(){this.innerHTML=""}function xo(n){return function(){this.innerHTML=n}}function Co(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function Oo(n){return arguments.length?this.each(n==null?Ao:(typeof n=="function"?Co:xo)(n)):this.node().innerHTML}function Po(){this.nextSibling&&this.parentNode.appendChild(this)}function zo(){return this.each(Po)}function To(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _o(){return this.each(To)}function Lo(n){var t=typeof n=="function"?n:au(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function Ro(){return null}function Go(n,t){var r=typeof n=="function"?n:au(n),i=t==null?Ro:typeof t=="function"?t:lu(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))}function $o(){var n=this.parentNode;n&&n.removeChild(this)}function qo(){return this.each($o)}function Fo(){var n=this.cloneNode(false),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Bo(){var n=this.cloneNode(true),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Do(n){return this.select(n?Bo:Fo)}function Io(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Xo(n){return function(t){n.call(this,t,this.__data__)}}function Zo(n){return n.trim().split(/^|\s+/).map((function(n){var t="",r=n.indexOf(".");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{type:n,name:t}}))}function Uo(n){return function(){var t=this.__on;if(t){for(var r=0,i=-1,e=t.length,u;r<e;++r)u=t[r],(!n.type||u.type===n.type)&&u.name===n.name?this.removeEventListener(u.type,u.listener,u.options):t[++i]=u;++i?t.length=i:delete this.__on}}}function Wo(n,t,r){return function(){var i=this.__on,e,u=Xo(t);if(i){for(var o=0,f=i.length;o<f;++o)if((e=i[o]).type===n.type&&e.name===n.name){this.removeEventListener(e.type,e.listener,e.options),this.addEventListener(e.type,e.listener=u,e.options=r),e.value=t;return}}this.addEventListener(n.type,u,r),e={type:n.type,name:n.name,value:t,listener:u,options:r},i?i.push(e):this.__on=[e]}}function Yo(n,t,r){var i=Zo(n+""),e,u=i.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,a=f.length,s;c<a;++c)for(e=0,s=f[c];e<u;++e)if((o=i[e]).type===s.type&&o.name===s.name)return s.value}return}for(f=t?Wo:Uo,e=0;e<u;++e)this.each(f(i[e],t,r));return this}function Qo(n,t,r){var i=io(n),e=i.CustomEvent;typeof e=="function"?e=new e(t,r):(e=i.document.createEvent("Event"),r?(e.initEvent(t,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(t,false,false)),n.dispatchEvent(e)}function Ko(n,t){return function(){return Qo(this,n,t)}}function Vo(n,t){return function(){return Qo(this,n,t.apply(this,arguments))}}function Ho(n,t){return this.each((typeof t=="function"?Vo:Ko)(n,t))}function*Jo(){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var i=n[t],e=0,u=i.length,o;e<u;++e)(o=i[e])&&(yield o)}var nf=[null];function tf(n,t){this._groups=n,this._parents=t}function rf(){return new tf([[document.documentElement]],nf)}function ef(){return this}tf.prototype=rf.prototype={constructor:tf,select:hu,selectAll:gu,selectChild:Su,selectChildren:Au,filter:xu,data:Ru,enter:Ou,exit:$u,join:qu,merge:Fu,selection:ef,order:Bu,sort:Du,call:Xu,nodes:Zu,node:Uu,size:Wu,empty:Yu,each:Qu,attr:ro,style:fo,property:ho,classed:Eo,text:ko,html:Oo,raise:zo,lower:_o,append:Lo,insert:Go,remove:qo,clone:Do,datum:Io,on:Yo,dispatch:Ho,[Symbol.iterator]:Jo};function uf(n){return typeof n=="string"?new tf([[document.querySelector(n)]],[document.documentElement]):new tf([[n]],nf)}function of(n){let t;for(;t=n.sourceEvent;)n=t;return n}function ff(n,t){if(n=of(n),t===void 0&&(t=n.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var e=t.getBoundingClientRect();return[n.clientX-e.left-t.clientLeft,n.clientY-e.top-t.clientTop]}}return[n.pageX,n.pageY]}var cf={value:()=>{}};function af(){for(var n=0,t=arguments.length,r={},i;n<t;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new sf(r)}function sf(n){this._=n}function lf(n,t){return n.trim().split(/^|\s+/).map((function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}}))}sf.prototype=af.prototype={constructor:sf,on:function(n,t){var r=this._,i=lf(n+"",r),e,u=-1,o=i.length;if(arguments.length<2){for(;++u<o;)if((e=(n=i[u]).type)&&(e=hf(r[e],n.name)))return e;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<o;)if(e=(n=i[u]).type)r[e]=vf(r[e],n.name,t);else if(t==null)for(e in r)r[e]=vf(r[e],n.name,null);return this},copy:function(){var n={},t=this._;for(var r in t)n[r]=t[r].slice();return new sf(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var r=new Array(e),i=0,e,u;i<e;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=this._[n],i=0,e=u.length;i<e;++i)u[i].value.apply(t,r)},apply:function(n,t,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],e=0,u=i.length;e<u;++e)i[e].value.apply(t,r)}};function hf(n,t){for(var r=0,i=n.length,e;r<i;++r)if((e=n[r]).name===t)return e.value}function vf(n,t,r){for(var i=0,e=n.length;i<e;++i)if(n[i].name===t){n[i]=cf,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:t,value:r}),n}const pf={capture:true,passive:false};function yf(n){n.preventDefault(),n.stopImmediatePropagation()}function df(n){var t=n.document.documentElement,r=uf(n).on("dragstart.drag",yf,pf);"onselectstart"in t?r.on("selectstart.drag",yf,pf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gf(n,t){var r=n.document.documentElement,i=uf(n).on("dragstart.drag",null);t&&(i.on("click.drag",yf,pf),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var mf=0,wf=0,Mf=0,bf=1e3,Ef,Sf,Nf=0,jf=0,kf=0,Af=typeof performance=="object"&&performance.now?performance:Date,xf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Cf(){return jf||(xf(Of),jf=Af.now()+kf)}function Of(){jf=0}function Pf(){this._call=this._time=this._next=null}Pf.prototype=zf.prototype={constructor:Pf,restart:function(n,t,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?Cf():+r)+(t==null?0:+t),!this._next&&Sf!==this&&(Sf?Sf._next=this:Ef=this,Sf=this),this._call=n,this._time=r,Gf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gf())}};function zf(n,t,r){var i=new Pf;return i.restart(n,t,r),i}function Tf(){Cf(),++mf;for(var n=Ef,t;n;)(t=jf-n._time)>=0&&n._call.call(void 0,t),n=n._next;--mf}function _f(){jf=(Nf=Af.now())+kf,mf=wf=0;try{Tf()}finally{mf=0,Rf(),jf=0}}function Lf(){var n=Af.now(),t=n-Nf;t>bf&&(kf-=t,Nf=n)}function Rf(){for(var n,t=Ef,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(r=t._next,t._next=null,t=n?n._next=r:Ef=r);Sf=n,Gf(i)}function Gf(n){if(!mf){wf&&(wf=clearTimeout(wf));var t=n-jf;t>24?(n<1/0&&(wf=setTimeout(_f,n-Af.now()-kf)),Mf&&(Mf=clearInterval(Mf))):(Mf||(Nf=Af.now(),Mf=setInterval(Lf,bf)),mf=1,xf(_f))}}function $f(n,t,r){var i=new Pf;return t=t==null?0:+t,i.restart((r=>{i.stop(),n(r+t)}),t,r),i}var qf=af("start","end","cancel","interrupt"),Ff=[],Bf=0,Df=1,If=2,Xf=3,Zf=4,Uf=5,Wf=6;function Yf(n,t,r,i,e,u){var o=n.__transition;if(!o)n.__transition={};else if(r in o)return;Hf(n,r,{name:t,index:i,group:e,on:qf,tween:Ff,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Bf})}function Qf(n,t){var r=Vf(n,t);if(r.state>Bf)throw new Error("too late; already scheduled");return r}function Kf(n,t){var r=Vf(n,t);if(r.state>Xf)throw new Error("too late; already running");return r}function Vf(n,t){var r=n.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Hf(n,t,r){var i=n.__transition,e;i[t]=r,r.timer=zf(u,0,r.time);function u(n){r.state=Df,r.timer.restart(o,r.delay,r.time),r.delay<=n&&o(n-r.delay)}function o(u){var a,s,l,h;if(r.state!==Df)return c();for(a in i)if(h=i[a],h.name===r.name){if(h.state===Xf)return $f(o);h.state===Zf?(h.state=Wf,h.timer.stop(),h.on.call("interrupt",n,n.__data__,h.index,h.group),delete i[a]):+a<t&&(h.state=Wf,h.timer.stop(),h.on.call("cancel",n,n.__data__,h.index,h.group),delete i[a])}if($f((function(){r.state===Xf&&(r.state=Zf,r.timer.restart(f,r.delay,r.time),f(u))})),r.state=If,r.on.call("start",n,n.__data__,r.index,r.group),r.state===If){for(r.state=Xf,e=new Array(l=r.tween.length),a=0,s=-1;a<l;++a)(h=r.tween[a].value.call(n,n.__data__,r.index,r.group))&&(e[++s]=h);e.length=s+1}}function f(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(c),r.state=Uf,1),u=-1,o=e.length;++u<o;)e[u].call(n,i);r.state===Uf&&(r.on.call("end",n,n.__data__,r.index,r.group),c())}function c(){r.state=Wf,r.timer.stop(),delete i[t];for(var e in i)return;delete n.__transition}}function Jf(n,t){var r=n.__transition,i,e,u=true,o;if(r){t=t==null?null:t+"";for(o in r){if((i=r[o]).name!==t){u=false;continue}e=i.state>If&&i.state<Uf,i.state=Wf,i.timer.stop(),i.on.call(e?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[o]}u&&delete n.__transition}}function nc(n){return this.each((function(){Jf(this,n)}))}function tc(n,t){var r,i;return function(){var e=Kf(this,n),u=e.tween;if(u!==r){i=r=u;for(var o=0,f=i.length;o<f;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}e.tween=i}}function rc(n,t,r){var i,e;if(typeof r!="function")throw new Error;return function(){var u=Kf(this,n),o=u.tween;if(o!==i){e=(i=o).slice();for(var f={name:t,value:r},c=0,a=e.length;c<a;++c)if(e[c].name===t){e[c]=f;break}c===a&&e.push(f)}u.tween=e}}function ic(n,t){var r=this._id;if(n+="",arguments.length<2){for(var i=Vf(this.node(),r).tween,e=0,u=i.length,o;e<u;++e)if((o=i[e]).name===n)return o.value;return null}return this.each((t==null?tc:rc)(r,n,t))}function ec(n,t,r){var i=n._id;return n.each((function(){var n=Kf(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)})),function(n){return Vf(n,i).value[t]}}function uc(n,t){var r;return(typeof t=="number"?i:t instanceof o?e:(r=o(t))?(t=r,e):u)(n,t)}function oc(n){return function(){this.removeAttribute(n)}}function fc(n){return function(){this.removeAttributeNS(n.space,n.local)}}function cc(n,t,r){var i,e=r+"",u;return function(){var o=this.getAttribute(n);return o===e?null:o===i?u:u=t(i=o,r)}}function ac(n,t,r){var i,e=r+"",u;return function(){var o=this.getAttributeNS(n.space,n.local);return o===e?null:o===i?u:u=t(i=o,r)}}function sc(n,t,r){var i,e,u;return function(){var o,f=r(this),c;return f==null?void this.removeAttribute(n):(o=this.getAttribute(n),c=f+"",o===c?null:o===i&&c===e?u:(e=c,u=t(i=o,f)))}}function lc(n,t,r){var i,e,u;return function(){var o,f=r(this),c;return f==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),c=f+"",o===c?null:o===i&&c===e?u:(e=c,u=t(i=o,f)))}}function hc(n,t){var r=ou(n),i=r==="transform"?w:uc;return this.attrTween(n,typeof t=="function"?(r.local?lc:sc)(r,i,ec(this,"attr."+n,t)):t==null?(r.local?fc:oc)(r):(r.local?ac:cc)(r,i,t))}function vc(n,t){return function(r){this.setAttribute(n,t.call(this,r))}}function pc(n,t){return function(r){this.setAttributeNS(n.space,n.local,t.call(this,r))}}function yc(n,t){var r,i;function e(){var e=t.apply(this,arguments);return e!==i&&(r=(i=e)&&pc(n,e)),r}return e._value=t,e}function dc(n,t){var r,i;function e(){var e=t.apply(this,arguments);return e!==i&&(r=(i=e)&&vc(n,e)),r}return e._value=t,e}function gc(n,t){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=ou(n);return this.tween(r,(i.local?yc:dc)(i,t))}function mc(n,t){return function(){Qf(this,n).delay=+t.apply(this,arguments)}}function wc(n,t){return t=+t,function(){Qf(this,n).delay=t}}function Mc(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?mc:wc)(t,n)):Vf(this.node(),t).delay}function bc(n,t){return function(){Kf(this,n).duration=+t.apply(this,arguments)}}function Ec(n,t){return t=+t,function(){Kf(this,n).duration=t}}function Sc(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?bc:Ec)(t,n)):Vf(this.node(),t).duration}function Nc(n,t){if(typeof t!="function")throw new Error;return function(){Kf(this,n).ease=t}}function jc(n){var t=this._id;return arguments.length?this.each(Nc(t,n)):Vf(this.node(),t).ease}function kc(n,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Kf(this,n).ease=r}}function Ac(n){if(typeof n!="function")throw new Error;return this.each(kc(this._id,n))}function xc(n){typeof n!="function"&&(n=mu(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u=t[e],o=u.length,f=i[e]=[],c,a=0;a<o;++a)(c=u[a])&&n.call(c,c.__data__,a,u)&&f.push(c);return new ia(i,this._parents,this._name,this._id)}function Cc(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,r=n._groups,i=t.length,e=r.length,u=Math.min(i,e),o=new Array(i),f=0;f<u;++f)for(var c=t[f],a=r[f],s=c.length,l=o[f]=new Array(s),h,v=0;v<s;++v)(h=c[v]||a[v])&&(l[v]=h);for(;f<i;++f)o[f]=t[f];return new ia(o,this._parents,this._name,this._id)}function Oc(n){return(n+"").trim().split(/^|\s+/).every((function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"}))}function Pc(n,t,r){var i,e,u=Oc(t)?Qf:Kf;return function(){var o=u(this,n),f=o.on;f!==i&&(e=(i=f).copy()).on(t,r),o.on=e}}function zc(n,t){var r=this._id;return arguments.length<2?Vf(this.node(),r).on.on(n):this.each(Pc(r,n,t))}function Tc(n){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==n)return;t&&t.removeChild(this)}}function _c(){return this.on("end.remove",Tc(this._id))}function Lc(n){var t=this._name,r=this._id;typeof n!="function"&&(n=lu(n));for(var i=this._groups,e=i.length,u=new Array(e),o=0;o<e;++o)for(var f=i[o],c=f.length,a=u[o]=new Array(c),s,l,h=0;h<c;++h)(s=f[h])&&(l=n.call(s,s.__data__,h,f))&&("__data__"in s&&(l.__data__=s.__data__),a[h]=l,Yf(a[h],t,r,h,a,Vf(s,r)));return new ia(u,this._parents,t,r)}function Rc(n){var t=this._name,r=this._id;typeof n!="function"&&(n=yu(n));for(var i=this._groups,e=i.length,u=[],o=[],f=0;f<e;++f)for(var c=i[f],a=c.length,s,l=0;l<a;++l)if(s=c[l]){for(var h=n.call(s,s.__data__,l,c),v,p=Vf(s,r),y=0,d=h.length;y<d;++y)(v=h[y])&&Yf(v,t,r,y,h,p);u.push(h),o.push(s)}return new ia(u,o,t,r)}var Gc=rf.prototype.constructor;function $c(){return new Gc(this._groups,this._parents)}function qc(n,t){var r,i,e;return function(){var u=co(this,n),o=(this.style.removeProperty(n),co(this,n));return u===o?null:u===r&&o===i?e:e=t(r=u,i=o)}}function Fc(n){return function(){this.style.removeProperty(n)}}function Bc(n,t,r){var i,e=r+"",u;return function(){var o=co(this,n);return o===e?null:o===i?u:u=t(i=o,r)}}function Dc(n,t,r){var i,e,u;return function(){var o=co(this,n),f=r(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(n),co(this,n))),o===c?null:o===i&&c===e?u:(e=c,u=t(i=o,f))}}function Ic(n,t){var r,i,e,u="style."+t,o="end."+u,f;return function(){var c=Kf(this,n),a=c.on,s=c.value[u]==null?f||(f=Fc(t)):void 0;(a!==r||e!==s)&&(i=(r=a).copy()).on(o,e=s),c.on=i}}function Xc(n,t,r){var i=(n+="")=="transform"?m:uc;return t==null?this.styleTween(n,qc(n,i)).on("end.style."+n,Fc(n)):typeof t=="function"?this.styleTween(n,Dc(n,i,ec(this,"style."+n,t))).each(Ic(this._id,n)):this.styleTween(n,Bc(n,i,t),r).on("end.style."+n,null)}function Zc(n,t,r){return function(i){this.style.setProperty(n,t.call(this,i),r)}}function Uc(n,t,r){var i,e;function u(){var u=t.apply(this,arguments);return u!==e&&(i=(e=u)&&Zc(n,u,r)),i}return u._value=t,u}function Wc(n,t,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Uc(n,t,r??""))}function Yc(n){return function(){this.textContent=n}}function Qc(n){return function(){var t=n(this);this.textContent=t??""}}function Kc(n){return this.tween("text",typeof n=="function"?Qc(ec(this,"text",n)):Yc(n==null?"":n+""))}function Vc(n){return function(t){this.textContent=n.call(this,t)}}function Hc(n){var t,r;function i(){var i=n.apply(this,arguments);return i!==r&&(t=(r=i)&&Vc(i)),t}return i._value=n,i}function Jc(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,Hc(n))}function na(){for(var n=this._name,t=this._id,r=ea(),i=this._groups,e=i.length,u=0;u<e;++u)for(var o=i[u],f=o.length,c,a=0;a<f;++a)if(c=o[a]){var s=Vf(c,t);Yf(c,n,r,a,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new ia(i,this._parents,n,r)}function ta(){var n,t,r=this,i=r._id,e=r.size();return new Promise((function(u,o){var f={value:o},c={value:function(){--e===0&&u()}};r.each((function(){var r=Kf(this,i),e=r.on;e!==n&&(t=(n=e).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(c)),r.on=t})),e===0&&u()}))}var ra=0;function ia(n,t,r,i){this._groups=n,this._parents=t,this._name=r,this._id=i}function ea(){return++ra}var ua=rf.prototype;ia.prototype={constructor:ia,select:Lc,selectAll:Rc,selectChild:ua.selectChild,selectChildren:ua.selectChildren,filter:xc,merge:Cc,selection:$c,transition:na,call:ua.call,nodes:ua.nodes,node:ua.node,size:ua.size,empty:ua.empty,each:ua.each,on:zc,attr:hc,attrTween:gc,style:Xc,styleTween:Wc,text:Kc,textTween:Jc,remove:_c,tween:ic,delay:Mc,duration:Sc,ease:jc,easeVarying:Ac,end:ta,[Symbol.iterator]:ua[Symbol.iterator]};function oa(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var fa={time:null,delay:0,duration:250,ease:oa};function ca(n,t){for(var r;!(r=n.__transition)||!(r=r[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return r}function aa(n){var t,r;n instanceof ia?(t=n._id,n=n._name):(t=ea(),(r=fa).time=Cf(),n=n==null?null:n+"");for(var i=this._groups,e=i.length,u=0;u<e;++u)for(var o=i[u],f=o.length,c,a=0;a<f;++a)(c=o[a])&&Yf(c,n,t,a,o,r||ca(c,t));return new ia(i,this._parents,n,t)}rf.prototype.interrupt=nc;rf.prototype.transition=aa;const sa=n=>()=>n;function la(n,{sourceEvent:t,target:r,transform:i,dispatch:e}){Object.defineProperties(this,{type:{value:n,enumerable:true,configurable:true},sourceEvent:{value:t,enumerable:true,configurable:true},target:{value:r,enumerable:true,configurable:true},transform:{value:i,enumerable:true,configurable:true},_:{value:e}})}function ha(n,t,r){this.k=n,this.x=t,this.y=r}ha.prototype={constructor:ha,scale:function(n){return n===1?this:new ha(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new ha(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var va=new ha(1,0,0);function pa(n){n.stopImmediatePropagation()}function ya(n){n.preventDefault(),n.stopImmediatePropagation()}function da(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function ga(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ma(){return this.__zoom||va}function wa(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function Ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function ba(n,t,r){var i=n.invertX(t[0][0])-r[0][0],e=n.invertX(t[1][0])-r[1][0],u=n.invertY(t[0][1])-r[0][1],o=n.invertY(t[1][1])-r[1][1];return n.translate(e>i?(i+e)/2:Math.min(0,i)||Math.max(0,e),o>u?(u+o)/2:Math.min(0,u)||Math.max(0,o))}function Ea(){var n=da,t=ga,r=ba,i=wa,e=Ma,u=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],f=250,c=N,a=af("start","zoom","end"),s,l,h,v=500,p=150,y=0,d=10;function g(n){n.property("__zoom",ma).on("wheel.zoom",j,{passive:false}).on("mousedown.zoom",k).on("dblclick.zoom",A).filter(e).on("touchstart.zoom",x).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(n,t,r,i){var e=n.selection?n.selection():n;e.property("__zoom",ma),n!==e?b(n,t,r,i):e.interrupt().each((function(){E(this,arguments).event(i).start().zoom(null,typeof t=="function"?t.apply(this,arguments):t).end()}))},g.scaleBy=function(n,t,r,i){g.scaleTo(n,(function(){var n=this.__zoom.k,r=typeof t=="function"?t.apply(this,arguments):t;return n*r}),r,i)},g.scaleTo=function(n,i,e,u){g.transform(n,(function(){var n=t.apply(this,arguments),u=this.__zoom,f=e==null?M(n):typeof e=="function"?e.apply(this,arguments):e,c=u.invert(f),a=typeof i=="function"?i.apply(this,arguments):i;return r(w(m(u,a),f,c),n,o)}),e,u)},g.translateBy=function(n,i,e,u){g.transform(n,(function(){return r(this.__zoom.translate(typeof i=="function"?i.apply(this,arguments):i,typeof e=="function"?e.apply(this,arguments):e),t.apply(this,arguments),o)}),null,u)},g.translateTo=function(n,i,e,u,f){g.transform(n,(function(){var n=t.apply(this,arguments),f=this.__zoom,c=u==null?M(n):typeof u=="function"?u.apply(this,arguments):u;return r(va.translate(c[0],c[1]).scale(f.k).translate(typeof i=="function"?-i.apply(this,arguments):-i,typeof e=="function"?-e.apply(this,arguments):-e),n,o)}),u,f)};function m(n,t){return t=Math.max(u[0],Math.min(u[1],t)),t===n.k?n:new ha(t,n.x,n.y)}function w(n,t,r){var i=t[0]-r[0]*n.k,e=t[1]-r[1]*n.k;return i===n.x&&e===n.y?n:new ha(n.k,i,e)}function M(n){return[(+n[0][0]+ +n[1][0])/2,(+n[0][1]+ +n[1][1])/2]}function b(n,r,i,e){n.on("start.zoom",(function(){E(this,arguments).event(e).start()})).on("interrupt.zoom end.zoom",(function(){E(this,arguments).event(e).end()})).tween("zoom",(function(){var n=this,u=arguments,o=E(n,u).event(e),f=t.apply(n,u),a=i==null?M(f):typeof i=="function"?i.apply(n,u):i,s=Math.max(f[1][0]-f[0][0],f[1][1]-f[0][1]),l=n.__zoom,h=typeof r=="function"?r.apply(n,u):r,v=c(l.invert(a).concat(s/l.k),h.invert(a).concat(s/h.k));return function(n){if(n===1)n=h;else{var t=v(n),r=s/t[2];n=new ha(r,a[0]-t[0]*r,a[1]-t[1]*r)}o.zoom(null,n)}}))}function E(n,t,r){return!r&&n.__zooming||new S(n,t)}function S(n,r){this.that=n,this.args=r,this.active=0,this.sourceEvent=null,this.extent=t.apply(n,r),this.taps=0}S.prototype={event:function(n){return n&&(this.sourceEvent=n),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(n,t){return this.mouse&&n!=="mouse"&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&n!=="touch"&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&n!=="touch"&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(n){var t=uf(this.that).datum();a.call(n,this.that,new la(n,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:a}),t)}};function j(t,...e){if(!n.apply(this,arguments))return;var f=E(this,e).event(t),c=this.__zoom,a=Math.max(u[0],Math.min(u[1],c.k*Math.pow(2,i.apply(this,arguments)))),s=ff(t);if(f.wheel)(f.mouse[0][0]!==s[0]||f.mouse[0][1]!==s[1])&&(f.mouse[1]=c.invert(f.mouse[0]=s)),clearTimeout(f.wheel);else{if(c.k===a)return;f.mouse=[s,c.invert(s)],Jf(this),f.start()}ya(t),f.wheel=setTimeout(l,p),f.zoom("mouse",r(w(m(c,a),f.mouse[0],f.mouse[1]),f.extent,o));function l(){f.wheel=null,f.end()}}function k(t,...i){if(h||!n.apply(this,arguments))return;var e=t.currentTarget,u=E(this,i,true).event(t),f=uf(t.view).on("mousemove.zoom",l,true).on("mouseup.zoom",v,true),c=ff(t,e),a=t.clientX,s=t.clientY;df(t.view),pa(t),u.mouse=[c,this.__zoom.invert(c)],Jf(this),u.start();function l(n){if(ya(n),!u.moved){var t=n.clientX-a,i=n.clientY-s;u.moved=t*t+i*i>y}u.event(n).zoom("mouse",r(w(u.that.__zoom,u.mouse[0]=ff(n,e),u.mouse[1]),u.extent,o))}function v(n){f.on("mousemove.zoom mouseup.zoom",null),gf(n.view,u.moved),ya(n),u.event(n).end()}}function A(i,...e){if(n.apply(this,arguments)){var u=this.__zoom,c=ff(i.changedTouches?i.changedTouches[0]:i,this),a=u.invert(c),s=u.k*(i.shiftKey?.5:2),l=r(w(m(u,s),c,a),t.apply(this,e),o);ya(i),f>0?uf(this).transition().duration(f).call(b,l,c,i):uf(this).call(g.transform,l,c,i)}}function x(t,...r){if(n.apply(this,arguments)){var i=t.touches,e=i.length,u=E(this,r,t.changedTouches.length===e).event(t),o,f,c,a;for(pa(t),f=0;f<e;++f)c=i[f],a=ff(c,this),a=[a,this.__zoom.invert(a),c.identifier],u.touch0?!u.touch1&&u.touch0[2]!==a[2]&&(u.touch1=a,u.taps=0):(u.touch0=a,o=true,u.taps=1+!!s);s&&(s=clearTimeout(s)),o&&(u.taps<2&&(l=a[0],s=setTimeout((function(){s=null}),v)),Jf(this),u.start())}}function C(n,...t){if(this.__zooming){var i=E(this,t).event(n),e=n.changedTouches,u=e.length,f,c,a,s;for(ya(n),f=0;f<u;++f)c=e[f],a=ff(c,this),i.touch0&&i.touch0[2]===c.identifier?i.touch0[0]=a:i.touch1&&i.touch1[2]===c.identifier&&(i.touch1[0]=a);if(c=i.that.__zoom,i.touch1){var l=i.touch0[0],h=i.touch0[1],v=i.touch1[0],p=i.touch1[1],y=(y=v[0]-l[0])*y+(y=v[1]-l[1])*y,d=(d=p[0]-h[0])*d+(d=p[1]-h[1])*d;c=m(c,Math.sqrt(y/d)),a=[(l[0]+v[0])/2,(l[1]+v[1])/2],s=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else if(i.touch0)a=i.touch0[0],s=i.touch0[1];else return;i.zoom("touch",r(w(c,a,s),i.extent,o))}}function O(n,...t){if(this.__zooming){var r=E(this,t).event(n),i=n.changedTouches,e=i.length,u,o;for(pa(n),h&&clearTimeout(h),h=setTimeout((function(){h=null}),v),u=0;u<e;++u)o=i[u],r.touch0&&r.touch0[2]===o.identifier?delete r.touch0:r.touch1&&r.touch1[2]===o.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),r.taps===2&&(o=ff(o,this),Math.hypot(l[0]-o[0],l[1]-o[1])<d)){var f=uf(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return g.wheelDelta=function(n){return arguments.length?(i=typeof n=="function"?n:sa(+n),g):i},g.filter=function(t){return arguments.length?(n=typeof t=="function"?t:sa(!!t),g):n},g.touchable=function(n){return arguments.length?(e=typeof n=="function"?n:sa(!!n),g):e},g.extent=function(n){return arguments.length?(t=typeof n=="function"?n:sa([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),g):t},g.scaleExtent=function(n){return arguments.length?(u[0]=+n[0],u[1]=+n[1],g):[u[0],u[1]]},g.translateExtent=function(n){return arguments.length?(o[0][0]=+n[0][0],o[1][0]=+n[1][0],o[0][1]=+n[0][1],o[1][1]=+n[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(n){return arguments.length?(r=n,g):r},g.duration=function(n){return arguments.length?(f=+n,g):f},g.interpolate=function(n){return arguments.length?(c=n,g):c},g.on=function(){var n=a.on.apply(a,arguments);return n===a?g:n},g.clickDistance=function(n){return arguments.length?(y=(n=+n)*n,g):Math.sqrt(y)},g.tapDistance=function(n){return arguments.length?(d=+n,g):d},g}function Sa(n,t){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,e,u,o,f=[],c=true,a=false;try{if(u=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;c=false}else for(;!(c=(i=u.call(r)).done)&&(f.push(i.value),f.length!==t);c=true);}catch(n){a=true,e=n}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(a)throw e}}return f}}function Na(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,i)}return r}function ja(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Na(Object(r),true).forEach((function(t){Aa(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function ka(n){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ka(n)}function Aa(n,t,r){return t=Ga(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:true,configurable:true,writable:true}):n[t]=r,n}function xa(){return xa=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},xa.apply(this,arguments)}function Ca(n,t){if(n==null)return{};var r={},i=Object.keys(n),e,u;for(u=0;u<i.length;u++)e=i[u],!(t.indexOf(e)>=0)&&(r[e]=n[e]);return r}function Oa(n,t){if(n==null)return{};var r=Ca(n,t),i,e;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(e=0;e<u.length;e++)i=u[e],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function Pa(n,t){return za(n)||Sa(n,t)||Ta(n,t)||La()}function za(n){if(Array.isArray(n))return n}function Ta(n,t){if(n){if(typeof n=="string")return _a(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _a(n,t)}}function _a(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function La(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ga(n){var t=Ra(n,"string");return typeof t=="symbol"?t:String(t)}var $a=["width","height","projection","projectionConfig"],qa=qi,Fa=Oa(We,["geoPath"]),Ba=n.createContext(),Da=function(n){var t=n.projectionConfig,r=t===void 0?{}:t,i=n.projection,e=i===void 0?"geoEqualEarth":i,u=n.width,o=u===void 0?800:u,f=n.height,c=f===void 0?600:f,a=typeof e=="function";if(a)return e;var s=Fa[e]().translate([o/2,c/2]),l=[s.center?"center":null,s.rotate?"rotate":null,s.scale?"scale":null,s.parallels?"parallels":null];return l.forEach((function(n){n&&(s=s[n](r[n]||s[n]()))})),s},Ia=function(r){var i=r.width,e=r.height,u=r.projection,o=r.projectionConfig,f=Oa(r,$a),c=o.center||[],a=Pa(c,2),s=a[0],l=a[1],h=o.rotate||[],v=Pa(h,3),p=v[0],y=v[1],d=v[2],g=o.parallels||[],m=Pa(g,2),w=m[0],M=m[1],b=o.scale||null,E=n.useMemo((function(){return Da({projectionConfig:{center:s||s===0||l||l===0?[s,l]:null,rotate:p||p===0||y||y===0?[p,y,d]:null,parallels:w||w===0||M||M===0?[w,M]:null,scale:b},projection:u,width:i,height:e})}),[i,e,u,s,l,p,y,d,w,M,b]),S=n.useCallback(E,[E]),N=n.useMemo((function(){return{width:i,height:e,projection:S,path:qa().projection(S)}}),[i,e,S]);return t.createElement(Ba.Provider,xa({value:N},f))};Ia.propTypes={width:L.number,height:L.number,projection:L.oneOfType([L.string,L.func]),projectionConfig:L.object};var Xa=["width","height","projection","projectionConfig","className"],Za=n.forwardRef((function(n,r){var i=n.width,e=i===void 0?800:i,u=n.height,o=u===void 0?600:u,f=n.projection,c=f===void 0?"geoEqualEarth":f,a=n.projectionConfig,s=a===void 0?{}:a,l=n.className,h=l===void 0?"":l,v=Oa(n,Xa);return t.createElement(Ia,{width:e,height:o,projection:c,projectionConfig:s},t.createElement("svg",xa({ref:r,viewBox:"0 0 ".concat(e," ").concat(o),className:"rsm-svg ".concat(h)},v)))}));Za.displayName="ComposableMap";Za.propTypes={width:L.number,height:L.number,projection:L.oneOfType([L.string,L.func]),projectionConfig:L.object,className:L.string};function Ua(n){return uf(n)}function Wa(n,t,r){var i=(n*r.k-n)/2,e=(t*r.k-t)/2;return[n/2-(i+r.x)/r.k,t/2-(e+r.y)/r.k]}function Ya(n){return fetch(n).then((function(n){if(!n.ok)throw Error(n.statusText);return n.json()})).catch((function(n){console.log("There was a problem when fetching the data: ",n)}))}function Qa(n,t){var r=n.type==="Topology";if(!r)return t?t(n.features||n):n.features||n;var i=Ve(n,n.objects[Object.keys(n.objects)[0]]).features;return t?t(i):i}function Ka(n){var t=n.type==="Topology";if(!t)return null;var r=tu(n,n.objects[Object.keys(n.objects)[0]],(function(n,t){return n===t})),i=tu(n,n.objects[Object.keys(n.objects)[0]],(function(n,t){return n!==t}));return{outline:r,borders:i}}function Va(n,t,r){return n&&t?{outline:ja(ja({},n),{},{rsmKey:"outline",svgPath:r(n)}),borders:ja(ja({},t),{},{rsmKey:"borders",svgPath:r(t)})}:{}}function Ha(n,t){return n?n.map((function(n,r){return ja(ja({},n),{},{rsmKey:"geo-".concat(r),svgPath:t(n)})})):[]}function Ja(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,i=Array.isArray(r)?r:[r,r],e=n/2*i[0],u=t/2*i[1];return"M".concat(0,",",0," Q",-n/2-e,",").concat(-t/2+u," ").concat(-n,",").concat(-t)}function ns(n){return typeof n=="string"}function ts(t){var r=t.geography,i=t.parseGeographies,e=n.useContext(Ba),u=e.path,o=n.useState({}),f=Pa(o,2),c=f[0],a=f[1];n.useEffect((function(){(typeof window>"u"?"undefined":ka(window))!=="undefined"&&r&&(ns(r)?Ya(r).then((function(n){n&&a({geographies:Qa(n,i),mesh:Ka(n)})})):a({geographies:Qa(r,i),mesh:Ka(r)}))}),[r,i]);var s=n.useMemo((function(){var n=c.mesh||{},t=Va(n.outline,n.borders,u);return{geographies:Ha(c.geographies,u),outline:t.outline,borders:t.borders}}),[c,u]),l=s.geographies,h=s.outline,v=s.borders;return{geographies:l,outline:h,borders:v}}var rs=["geography","children","parseGeographies","className"],is=n.forwardRef((function(r,i){var e=r.geography,u=r.children,o=r.parseGeographies,f=r.className,c=f===void 0?"":f,a=Oa(r,rs),s=n.useContext(Ba),l=s.path,h=s.projection,v=ts({geography:e,parseGeographies:o}),p=v.geographies,y=v.outline,d=v.borders;return t.createElement("g",xa({ref:i,className:"rsm-geographies ".concat(c)},a),p&&p.length>0&&u({geographies:p,outline:y,borders:d,path:l,projection:h}))}));is.displayName="Geographies";is.propTypes={geography:L.oneOfType([L.string,L.object,L.array]),children:L.func,parseGeographies:L.func,className:L.string};var es=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],us=n.forwardRef((function(r,i){var e=r.geography,u=r.onMouseEnter,o=r.onMouseLeave,f=r.onMouseDown,c=r.onMouseUp,a=r.onFocus,s=r.onBlur,l=r.style,h=l===void 0?{}:l,v=r.className,p=v===void 0?"":v,y=Oa(r,es),d=n.useState(false),g=Pa(d,2),m=g[0],w=g[1],M=n.useState(false),b=Pa(M,2),E=b[0],S=b[1];function N(n){S(true),u&&u(n)}function j(n){S(false),m&&w(false),o&&o(n)}function k(n){S(true),a&&a(n)}function A(n){S(false),m&&w(false),s&&s(n)}function x(n){w(true),f&&f(n)}function C(n){w(false),c&&c(n)}return t.createElement("path",xa({ref:i,tabIndex:"0",className:"rsm-geography ".concat(p),d:e.svgPath,onMouseEnter:N,onMouseLeave:j,onFocus:k,onBlur:A,onMouseDown:x,onMouseUp:C,style:h[m||E?m?"pressed":"hover":"default"]},y))}));us.displayName="Geography";us.propTypes={geography:L.object,onMouseEnter:L.func,onMouseLeave:L.func,onMouseDown:L.func,onMouseUp:L.func,onFocus:L.func,onBlur:L.func,style:L.object,className:L.string};var os=n.memo(us),fs=["fill","stroke","step","className"],cs=n.forwardRef((function(r,i){var e=r.fill,u=e===void 0?"transparent":e,o=r.stroke,f=o===void 0?"currentcolor":o,c=r.step,a=c===void 0?[10,10]:c,s=r.className,l=s===void 0?"":s,h=Oa(r,fs),v=n.useContext(Ba),p=v.path;return t.createElement("path",xa({ref:i,d:p(zr().step(a)()),fill:u,stroke:f,className:"rsm-graticule ".concat(l)},h))}));cs.displayName="Graticule";cs.propTypes={fill:L.string,stroke:L.string,step:L.array,className:L.string};n.memo(cs);var as=["value"],ss=n.createContext(),ls={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},hs=function(n){var r=n.value,i=r===void 0?ls:r,e=Oa(n,as);return t.createElement(ss.Provider,xa({value:i},e))};hs.propTypes={x:L.number,y:L.number,k:L.number,transformString:L.string};function vs(t){var r=t.center,i=t.filterZoomEvent,e=t.onMoveStart,u=t.onMoveEnd,o=t.onMove,f=t.translateExtent,c=f===void 0?[[-1/0,-1/0],[1/0,1/0]]:f,a=t.scaleExtent,s=a===void 0?[1,8]:a,l=t.zoom,h=l===void 0?1:l,v=n.useContext(Ba),p=v.width,y=v.height,d=v.projection,g=Pa(r,2),m=g[0],w=g[1],M=n.useState({x:0,y:0,k:1}),b=Pa(M,2),E=b[0],S=b[1],N=n.useRef({x:0,y:0,k:1}),j=n.useRef(),k=n.useRef(),A=n.useRef(false),x=Pa(c,2),C=x[0],O=x[1],P=Pa(C,2),z=P[0],T=P[1],_=Pa(O,2),L=_[0],R=_[1],G=Pa(s,2),$=G[0],q=G[1];return n.useEffect((function(){var n=Ua(j.current);function t(n){!e||A.current||e({coordinates:d.invert(Wa(p,y,n.transform)),zoom:n.transform.k},n)}function r(n){if(!A.current){var t=n.transform,r=n.sourceEvent;S({x:t.x,y:t.y,k:t.k,dragging:r}),o&&o({x:t.x,y:t.y,zoom:t.k,dragging:r},n)}}function f(n){if(A.current){A.current=false;return}var t=d.invert(Wa(p,y,n.transform)),r=Pa(t,2),i=r[0],e=r[1];N.current={x:i,y:e,k:n.transform.k},u&&u({coordinates:[i,e],zoom:n.transform.k},n)}function c(n){return i?i(n):n?!n.ctrlKey&&!n.button:false}var a=Ea().filter(c).scaleExtent([$,q]).translateExtent([[z,T],[L,R]]).on("start",t).on("zoom",r).on("end",f);k.current=a,n.call(a)}),[p,y,z,T,L,R,$,q,d,e,o,u,i]),n.useEffect((function(){if(!(m===N.current.x&&w===N.current.y&&h===N.current.k)){var n=d([m,w]),t=n[0]*h,r=n[1]*h,i=Ua(j.current);A.current=true,i.call(k.current.transform,va.translate(p/2-t,y/2-r).scale(h)),S({x:p/2-t,y:y/2-r,k:h}),N.current={x:m,y:w,k:h}}}),[m,w,h,p,y,d]),{mapRef:j,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var ps=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],ys=n.forwardRef((function(r,i){var e=r.center,u=e===void 0?[0,0]:e,o=r.zoom,f=o===void 0?1:o,c=r.minZoom,a=c===void 0?1:c,s=r.maxZoom,l=s===void 0?8:s,h=r.translateExtent,v=r.filterZoomEvent,p=r.onMoveStart,y=r.onMove,d=r.onMoveEnd,g=r.className,m=Oa(r,ps),w=n.useContext(Ba),M=w.width,b=w.height,E=vs({center:u,filterZoomEvent:v,onMoveStart:p,onMove:y,onMoveEnd:d,scaleExtent:[a,l],translateExtent:h,zoom:f}),S=E.mapRef,N=E.transformString,j=E.position;return t.createElement(hs,{value:{x:j.x,y:j.y,k:j.k,transformString:N}},t.createElement("g",{ref:S},t.createElement("rect",{width:M,height:b,fill:"transparent"}),t.createElement("g",xa({ref:i,transform:N,className:"rsm-zoomable-group ".concat(g)},m))))}));ys.displayName="ZoomableGroup";ys.propTypes={center:L.array,zoom:L.number,minZoom:L.number,maxZoom:L.number,translateExtent:L.arrayOf(L.array),onMoveStart:L.func,onMove:L.func,onMoveEnd:L.func,className:L.string};var ds=["id","fill","stroke","strokeWidth","className"],gs=n.forwardRef((function(r,i){var e=r.id,u=e===void 0?"rsm-sphere":e,o=r.fill,f=o===void 0?"transparent":o,c=r.stroke,a=c===void 0?"currentcolor":c,s=r.strokeWidth,l=s===void 0?.5:s,h=r.className,v=h===void 0?"":h,p=Oa(r,ds),y=n.useContext(Ba),d=y.path,g=n.useMemo((function(){return d({type:"Sphere"})}),[d]);return t.createElement(n.Fragment,null,t.createElement("defs",null,t.createElement("clipPath",{id:u},t.createElement("path",{d:g}))),t.createElement("path",xa({ref:i,d:g,fill:f,stroke:a,strokeWidth:l,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(v)},p)))}));gs.displayName="Sphere";gs.propTypes={id:L.string,fill:L.string,stroke:L.string,strokeWidth:L.number,className:L.string};n.memo(gs);var ms=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],ws=n.forwardRef((function(r,i){var e=r.coordinates,u=r.children,o=r.onMouseEnter,f=r.onMouseLeave,c=r.onMouseDown,a=r.onMouseUp,s=r.onFocus,l=r.onBlur,h=r.style,v=h===void 0?{}:h,p=r.className,y=p===void 0?"":p,d=Oa(r,ms),g=n.useContext(Ba),m=g.projection,w=n.useState(false),M=Pa(w,2),b=M[0],E=M[1],S=n.useState(false),N=Pa(S,2),j=N[0],k=N[1],A=m(e),x=Pa(A,2),C=x[0],O=x[1];function P(n){k(true),o&&o(n)}function z(n){k(false),b&&E(false),f&&f(n)}function T(n){k(true),s&&s(n)}function _(n){k(false),b&&E(false),l&&l(n)}function L(n){E(true),c&&c(n)}function R(n){E(false),a&&a(n)}return t.createElement("g",xa({ref:i,transform:"translate(".concat(C,", ").concat(O,")"),className:"rsm-marker ".concat(y),onMouseEnter:P,onMouseLeave:z,onFocus:T,onBlur:_,onMouseDown:L,onMouseUp:R,style:v[b||j?b?"pressed":"hover":"default"]},d),u)}));ws.displayName="Marker";ws.propTypes={coordinates:L.array,children:L.oneOfType([L.node,L.arrayOf(L.node)]),onMouseEnter:L.func,onMouseLeave:L.func,onMouseDown:L.func,onMouseUp:L.func,onFocus:L.func,onBlur:L.func,style:L.object,className:L.string};var Ms=["from","to","coordinates","stroke","strokeWidth","fill","className"],bs=n.forwardRef((function(r,i){var e=r.from,u=e===void 0?[0,0]:e,o=r.to,f=o===void 0?[0,0]:o,c=r.coordinates,a=r.stroke,s=a===void 0?"currentcolor":a,l=r.strokeWidth,h=l===void 0?3:l,v=r.fill,p=v===void 0?"transparent":v,y=r.className,d=y===void 0?"":y,g=Oa(r,Ms),m=n.useContext(Ba),w=m.path,M={type:"LineString",coordinates:c||[u,f]};return t.createElement("path",xa({ref:i,d:w(M),className:"rsm-line ".concat(d),stroke:s,strokeWidth:h,fill:p},g))}));bs.displayName="Line";bs.propTypes={from:L.array,to:L.array,coordinates:L.array,stroke:L.string,strokeWidth:L.number,fill:L.string,className:L.string};var Es=["subject","children","connectorProps","dx","dy","curve","className"],Ss=n.forwardRef((function(r,i){var e=r.subject,u=r.children,o=r.connectorProps,f=r.dx,c=f===void 0?30:f,a=r.dy,s=a===void 0?30:a,l=r.curve,h=l===void 0?0:l,v=r.className,p=v===void 0?"":v,y=Oa(r,Es),d=n.useContext(Ba),g=d.projection,m=g(e),w=Pa(m,2),M=w[0],b=w[1],E=Ja(c,s,h);return t.createElement("g",xa({ref:i,transform:"translate(".concat(M+c,", ").concat(b+s,")"),className:"rsm-annotation ".concat(p)},y),t.createElement("path",xa({d:E,fill:"transparent",stroke:"#000"},o)),u)}));Ss.displayName="Annotation";Ss.propTypes={subject:L.array,children:L.oneOfType([L.node,L.arrayOf(L.node)]),dx:L.number,dy:L.number,curve:L.number,connectorProps:L.object,className:L.string};export{Ss as Annotation,Za as ComposableMap,is as Geographies,os as Geography,bs as Line,Ba as MapContext,Ia as MapProvider,ws as Marker,ss as ZoomPanContext,hs as ZoomPanProvider,ys as ZoomableGroup,ts as useGeographies,vs as useZoomPan};
//# sourceMappingURL=p-Bd56hBW0.js.map