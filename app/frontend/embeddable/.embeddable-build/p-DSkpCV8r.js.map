{"version":3,"file":"p-DSkpCV8r.js","sources":["../embeddable-prepared-build/KPIChart-kxdhGlLw.js"],"sourcesContent":["import { v as i } from \"./Spinner-BeNoTciJ-kkBeaSg9.js\";\nimport { d as o } from \"./index.esm-DkvBbpcs.js\";\nimport { J as l } from \"./index-BnknUsHX-DmRe-f3g.js\";\nconst s = {\n  name: \"KPIChart\",\n  label: \"KPI number comparison\",\n  defaultWidth: 200,\n  defaultHeight: 150,\n  classNames: [\"inside-card\"],\n  category: \"Charts: time-series comparison\",\n  inputs: [\n    {\n      name: \"ds\",\n      type: \"dataset\",\n      label: \"Dataset\",\n      description: \"Dataset\",\n      defaultValue: !1,\n      category: \"Chart data\"\n    },\n    {\n      name: \"metric\",\n      type: \"measure\",\n      label: \"KPI\",\n      required: !0,\n      config: {\n        dataset: \"ds\"\n      },\n      category: \"Chart data\"\n    },\n    {\n      name: \"timeProperty\",\n      type: \"dimension\",\n      label: \"Time Property\",\n      description: \"Used by time filters\",\n      config: {\n        dataset: \"ds\",\n        supportedTypes: [\"time\"]\n      },\n      category: \"Chart data\"\n    },\n    {\n      name: \"timeFilter\",\n      type: \"timeRange\",\n      label: \"Primary date range\",\n      description: \"Date range\",\n      category: \"Variables to configure\"\n    },\n    {\n      name: \"prevTimeFilter\",\n      type: \"timeRange\",\n      label: \"Comparison date range\",\n      description: \"Date range\",\n      category: \"Variables to configure\"\n    },\n    {\n      name: \"title\",\n      type: \"string\",\n      label: \"Title\",\n      description: \"The title for the chart\",\n      category: \"Chart settings\"\n    },\n    {\n      name: \"description\",\n      type: \"string\",\n      label: \"Description\",\n      description: \"The description for the chart\",\n      category: \"Chart settings\"\n    },\n    {\n      name: \"showPrevPeriodLabel\",\n      type: \"boolean\",\n      label: \"Display comparison period label\",\n      defaultValue: !0,\n      category: \"Chart settings\"\n    },\n    {\n      name: \"prefix\",\n      type: \"string\",\n      label: \"Prefix\",\n      description: \"Prefix\",\n      category: \"Chart settings\"\n    },\n    {\n      name: \"suffix\",\n      type: \"string\",\n      label: \"Suffix\",\n      description: \"Suffix\",\n      category: \"Chart settings\"\n    },\n    {\n      name: \"dps\",\n      type: \"number\",\n      label: \"Decimal Places\",\n      category: \"Formatting\"\n    },\n    {\n      name: \"fontSize\",\n      type: \"number\",\n      label: \"Text size in pixels\",\n      defaultValue: 44,\n      category: \"Formatting\"\n    },\n    {\n      name: \"enableDownloadAsCSV\",\n      type: \"boolean\",\n      label: \"Show download as CSV\",\n      category: \"Export options\",\n      defaultValue: !1\n    },\n    {\n      name: \"enableDownloadAsPNG\",\n      type: \"boolean\",\n      label: \"Show download as PNG\",\n      category: \"Export options\",\n      defaultValue: !1\n    }\n  ]\n}, d = o(l, s, {\n  props: (e) => {\n    var t, a, r;\n    return {\n      ...e,\n      results: i({\n        from: e.ds,\n        select: [e.metric],\n        filters: (t = e.timeFilter) != null && t.from && e.timeProperty ? [\n          {\n            property: e.timeProperty,\n            operator: \"inDateRange\",\n            value: e.timeFilter\n          }\n        ] : void 0\n      }),\n      prevResults: e.timeProperty && i({\n        from: e.ds,\n        select: [e.metric],\n        limit: (a = e.prevTimeFilter) != null && a.from ? void 0 : 1,\n        filters: (r = e.prevTimeFilter) != null && r.from ? [\n          {\n            property: e.timeProperty,\n            operator: \"inDateRange\",\n            value: {\n              from: e.prevTimeFilter.from,\n              relativeTimeString: \"\",\n              to: e.prevTimeFilter.to\n            }\n          }\n        ] : void 0\n      })\n    };\n  }\n});\nexport {\n  d as default,\n  s as meta\n};\n//# sourceMappingURL=KPIChart-kxdhGlLw.js.map\n"],"names":["o","l","i"],"mappings":"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"}