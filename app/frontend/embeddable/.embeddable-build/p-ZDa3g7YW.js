import{D as e}from"./p-DZclBDBz.js";import{G as t,k as a}from"./p-CptBl6Le.js";import{S as r}from"./p-D-ZJqqO3.js";import{W as l,B as i,I as s,w as o,Y as n,U as p,v as d,P as m,k as u,E as c,M as y,m as g,a as b}from"./p-CYoZIMuL.js";import"./p-DRQaGU8r.js";import{D as f}from"./p-UGbmf8ph.js";import{R as h}from"./p-CawJ6rMd.js";import{n as C,c as x}from"./p-BvW5kj19.js";import{m as v}from"./p-e2Wdry-T.js";import{r as j}from"./p-BIFnrNPV.js";import{P as D}from"./p-BDmepEmC.js";import"./p-DUIxdZrE.js";import"./p-BcYWNS4N.js";import"./p-CBK12GNN.js";import"./p-sWS4yEkp.js";o.register(n,p,d,m,u,c,y,g,b);const w=e=>{const{title:t}=e,{fillGaps:o}=h(e,"desc"),n=a();l(n,"line");const p={...e,theme:n},d=f.useMemo((()=>{var t;const{results:a,metrics:r,applyFill:l,theme:i}=p,s=(t=a==null?void 0:a.data)==null?void 0:t.reduce(o,[]);let n=i.charts.colors;return i.charts.line.colors&&(n=i.charts.line.colors),{datasets:(r==null?void 0:r.map(((t,a)=>({label:t.title,data:(s==null?void 0:s.map((a=>{var r;return{y:parseFloat(a[t.name]||"0"),x:C(a[((r=e.xAxis)==null?void 0:r.name)||""])}})))||[],backgroundColor:l?j(n[a%n.length],.2):n[a%n.length],borderColor:n[a%n.length],pointRadius:0,tension:i.charts.line.lineTension,pointHoverRadius:3,fill:l,cubicInterpolationMode:i.charts.bar.cubicInterpolationMode}))))||[]}}),[p,o]),m=f.useMemo((()=>({responsive:true,maintainAspectRatio:false,interaction:{mode:"index",intersect:false},layout:{padding:{left:0,right:0,top:p.showLabels?20:0,bottom:0}},scales:{y:{min:p.yAxisMin,grace:"0%",grid:{display:false},title:{display:!!p.yAxisTitle,text:p.yAxisTitle},callback:function(e){return x(e.toString(),{type:"number"})},afterDataLimits:function(e){i(e,p.results,[...p.metrics],p.dps)}},x:{grid:{display:false},title:{display:!!p.xAxisTitle,text:p.xAxisTitle},type:"time",time:{round:p.granularity,displayFormats:n.dateFormats,unit:p.granularity}}},animation:{duration:400,easing:"linear"},plugins:{legend:{display:p.showLegend,position:"bottom",labels:{usePointStyle:true,boxHeight:8}},datalabels:{align:"top",display:p.showLabels?"auto":false,backgroundColor:n.charts.line.labels.backgroundColor,borderRadius:n.charts.line.labels.borderRadius,color:n.charts.line.labels.color,font:{size:n.charts.line.labels.font.size,weight:n.charts.line.labels.font.weight},formatter:(e,t)=>{const a=t.datasetIndex,r=p.metrics[a];return e?x(e.y,{type:"number",dps:p.dps,meta:r==null?void 0:r.meta}):null}},tooltip:{callbacks:{label:function(e){const t=e.datasetIndex,a=p.metrics[t];let r=e.dataset.label||"";return e.parsed.y!==null&&(r+=`: ${x(`${e.parsed.y}`,{type:"number",dps:p.dps,meta:a==null?void 0:a.meta})}`),r},title:e=>v(e,p.granularity,n)}}}})),[p,n.dateFormats]);return r.jsx(D,{...p,className:"overflow-y-hidden",children:r.jsx(s,{"aria-label":t?`Line Chart: ${t}`:"Line Chart","aria-roledescription":"line chart",height:"100%",options:m,data:d})})},L={name:"LineChart",label:"Line chart (time-series)",classNames:["inside-card"],category:"Charts: time-series",inputs:[{name:"ds",type:"dataset",label:"Dataset",description:"Dataset",defaultValue:false,category:"Chart data"},{name:"xAxis",type:"dimension",label:"X-Axis",config:{dataset:"ds",supportedTypes:["time"],hideGranularity:true},category:"Chart data"},{name:"metrics",type:"measure",array:true,label:"Metrics",config:{dataset:"ds"},category:"Chart data"},{name:"granularity",type:"granularity",label:"Granularity",defaultValue:"day",category:"Variables to configure"},{name:"title",type:"string",label:"Title",description:"The title for the chart",category:"Chart settings"},{name:"description",type:"string",label:"Description",description:"The description for the chart",category:"Chart settings"},{name:"xAxisTitle",type:"string",label:"X-Axis Title",category:"Chart settings"},{name:"yAxisTitle",type:"string",label:"Y-Axis Title",category:"Chart settings"},{name:"showLabels",type:"boolean",label:"Show Labels",category:"Chart settings",defaultValue:false},{name:"applyFill",type:"boolean",label:"Color fill space under line",category:"Chart settings",defaultValue:false},{name:"yAxisMin",type:"number",label:"Y-Axis minimum value",category:"Chart settings"},{name:"showLegend",type:"boolean",label:"Show Legend",category:"Chart settings",defaultValue:true},{name:"limit",type:"number",label:"Limit results",defaultValue:100,category:"Chart settings"},{name:"dps",type:"number",label:"Decimal Places",category:"Formatting"},{name:"enableDownloadAsCSV",type:"boolean",label:"Show download as CSV",category:"Export options",defaultValue:true},{name:"enableDownloadAsPNG",type:"boolean",label:"Show download as PNG",category:"Export options",defaultValue:true}]},V=t(w,L,{props:t=>{var a;const r=[];return r.push({property:t.xAxis,direction:"desc"}),{...t,results:e({from:t.ds,limit:t.limit||500,orderBy:r,select:[{dimension:(a=t.xAxis)==null?void 0:a.name,granularity:t.granularity},t.metrics]})}}});export{V as default,L as meta};
//# sourceMappingURL=p-ZDa3g7YW.js.map