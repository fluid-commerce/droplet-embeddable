{"version":3,"file":"p-Dj0H-zC5.js","sources":["../embeddable-prepared-build/ComparisonFilter-LrjDjNUC.js"],"sourcesContent":["import { e as t, n as m, t as r } from \"./Spinner-BeNoTciJ-kkBeaSg9.js\";\nimport { d as s } from \"./index.esm-DkvBbpcs.js\";\nimport { s as o, N as n } from \"./format-TjzP8gQX-c7QlZqos.js\";\nimport { j as i } from \"./jsx-runtime-CjQXaSqQ-BLZX7BjA.js\";\nimport { W as u } from \"./Container-DH8gzj0m-Y5Uily2v.js\";\nimport { Z as p } from \"./DateRangeWithGranularity-CHWRqWe9-Dku-qWN0.js\";\nimport { o as l } from \"./differenceInSeconds-D-PK4HfM-jUIzmPWK.js\";\nconst a = m(\"timeComparison\", {\n  label: \"Time Comparison\",\n  optionLabel: (e) => e\n});\nr(a, \"No comparison\");\nr(a, \"Previous period\");\nr(a, \"Previous week\");\nr(a, \"Previous month\");\nr(a, \"Previous quarter\");\nr(a, \"Previous year\");\nconst g = (e) => /* @__PURE__ */ i.jsx(u, { ...e, children: /* @__PURE__ */ i.jsx(p, { ...e }) }), y = {\n  name: \"ComparisonFilter\",\n  label: \"Comparison filter\",\n  defaultWidth: 920,\n  defaultHeight: 50,\n  classNames: [\"on-top\"],\n  category: \"Charts: time-series comparison\",\n  inputs: [\n    {\n      name: \"title\",\n      type: \"string\",\n      label: \"Title\",\n      category: \"Settings\"\n    },\n    {\n      name: \"showGranularity\",\n      type: \"boolean\",\n      label: \"Show granularity picker\",\n      category: \"Settings\",\n      defaultValue: !0\n    },\n    {\n      name: \"defaultComparison\",\n      type: a,\n      label: \"Default comparison option\",\n      defaultValue: \"Previous period\",\n      category: \"Settings\"\n    },\n    {\n      name: \"defaultPeriod\",\n      type: \"timeRange\",\n      label: \"Primary date range\",\n      category: \"Pre-configured variables\"\n    },\n    {\n      name: \"defaultGranularity\",\n      type: \"granularity\",\n      label: \"Default granularity\",\n      category: \"Pre-configured variables\"\n    }\n  ],\n  events: [\n    {\n      name: \"onChangePeriod\",\n      label: \"Change Period\",\n      properties: [\n        {\n          name: \"value\",\n          type: \"timeRange\",\n          label: \"value\"\n        }\n      ]\n    },\n    {\n      name: \"onChangeComparison\",\n      label: \"Change Comparison\",\n      properties: [\n        {\n          name: \"value\",\n          type: \"timeRange\",\n          label: \"value\"\n        }\n      ]\n    },\n    {\n      name: \"onChangeGranularity\",\n      label: \"Change Granularity\",\n      properties: [\n        {\n          name: \"value\",\n          type: \"granularity\",\n          label: \"value\"\n        }\n      ]\n    }\n  ],\n  variables: [\n    {\n      name: \"primary date range\",\n      type: \"timeRange\",\n      inputs: [\"defaultPeriod\"],\n      defaultValue: { relativeTimeString: \"Last 30 days\" },\n      events: [{ name: \"onChangePeriod\", property: \"value\" }]\n    },\n    {\n      name: \"comparison date range\",\n      type: \"timeRange\",\n      defaultValue: t.noFilter(),\n      events: [{ name: \"onChangeComparison\", property: \"value\" }]\n    },\n    {\n      name: \"granularity\",\n      type: \"granularity\",\n      inputs: [\"defaultGranularity\"],\n      defaultValue: \"day\",\n      events: [{ name: \"onChangeGranularity\", property: \"value\" }]\n    }\n  ]\n}, P = s(g, y, {\n  /* The Inputs type is currently set to PICK properties from the \"events\" section of the meta object\n   * and add them to the \"inputs\" var that we're spreading to props. There are two issues:\n   * 1. It's not clear why we're adding events to \"inputs\" and if we need to spread both to\n   *    the props object, it might be better to have two parameters for the props function.\n   * 2. The Inputs type is not correctly PICKing all events - it only takes the first one. Thatâ€™s\n   *    the reason why it complains about onChangeComparison and onChangeGranularity, but not\n   *    onChangePeriod\n   * @ts-expect-error - to be fixed in @embeddable.com/react */\n  props: (e) => e,\n  events: {\n    onChangePeriod: (e) => e ? { value: o({ ...e, from: n(e.from), to: l(e.to) }) } : { value: t.noFilter() },\n    onChangeComparison: (e) => e ? { value: o({ ...e, from: n(e.from), to: l(e.to) }) } : { value: t.noFilter() },\n    onChangeGranularity: (e) => ({ value: e || t.noFilter() })\n  }\n});\nexport {\n  P as default,\n  y as meta\n};\n//# sourceMappingURL=ComparisonFilter-LrjDjNUC.js.map\n"],"names":["m","r","i","u","p","t","s","o","n","l"],"mappings":"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"}