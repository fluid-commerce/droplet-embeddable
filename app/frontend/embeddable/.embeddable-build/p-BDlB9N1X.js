import{S as t}from"./p-BG3D11hv.js";import{W as a,B as i,I as e,w as s,Y as o,U as r,v as l,P as n,k as p,E as m,M as d,m as u,a as c,L as f}from"./p-CKrqpXF-.js";import"./p-BwPuT_aN.js";import{D as y}from"./p-BpMJ0iVV.js";import{R as v}from"./p-DNmQi9H5.js";import{c as b}from"./p-BvW5kj19.js";import{m as j}from"./p-e2Wdry-T.js";import{j as g}from"./p-CSW6az26.js";import{P as h}from"./p-D9lurr2W.js";import{k}from"./p-C4wedjxV.js";s.register(o,r,l,n,p,m,d,u,c,f);const x=s=>{const{isMultiDimensionLine:o=false}=s,r=k();a(r,"pie");const l={...s,theme:r},{fillGaps:n}=v(l,"desc"),p=y.useMemo((()=>{var t,a;const i=(a=(t=l==null?void 0:l.results)==null?void 0:t.data)==null?void 0:a.reduce(n,[]),e={fill:!o,cubicInterpolationMode:r.charts.stackedArea.cubicInterpolationMode,pointRadius:0,tension:r.charts.stackedArea.lineTension,pointHoverRadius:3};return g({...l,results:{...l.results,data:i}},e,{chartType:"stackedAreaChart"})}),[l,n]),m=y.useMemo((()=>({responsive:true,maintainAspectRatio:false,interaction:{mode:"index",intersect:false},layout:{padding:{left:0,right:0,top:l.showLabels?20:0,bottom:0}},scales:{y:{stacked:!o,min:l.yAxisMin,max:l.displayAsPercentage?100:void 0,grace:"0%",grid:{display:false},ticks:{callback:function(t){return l.displayAsPercentage?`${t}%`:b(t.toString(),{type:"number"})}},title:{display:!!l.yAxisTitle,text:l.yAxisTitle},afterDataLimits:function(t){i(t,l.results,[l.metric],l.dps)}},x:{grid:{display:false},title:{display:!!l.xAxisTitle,text:l.xAxisTitle},type:"time",time:{round:l.granularity,displayFormats:r.dateFormats,unit:l.granularity}}},animation:{duration:400,easing:"linear"},plugins:{legend:{display:l.showLegend,position:"bottom",labels:{usePointStyle:true,boxHeight:8}},tooltip:{callbacks:{label:function(t){let a=t.dataset.label||"";return t.parsed.y!==null&&(a+=`: ${b(`${t.parsed.y}`,{type:"number",dps:l.dps,meta:l.displayAsPercentage?void 0:l.metric.meta})}`,l.displayAsPercentage&&(a+="%")),a},title:t=>j(t,l.granularity||"day",r)}},datalabels:{align:"top",display:l.showLabels?"auto":false,formatter:t=>{let a=t?b(t,{type:"number",dps:l.dps,meta:l.displayAsPercentage?void 0:s.metric.meta}):null;return l.displayAsPercentage&&(a+="%"),a}}}})),[l,r]);return t.jsx(h,{...l,className:"overflow-y-hidden",children:t.jsx(e,{height:"100%",options:m,data:p})})};export{x as G};
//# sourceMappingURL=p-BDlB9N1X.js.map