import{E as e}from"./p-B7Yk6rNY.js";import{G as a}from"./p-C4wedjxV.js";import{S as t}from"./p-BG3D11hv.js";import{D as l}from"./p-BpMJ0iVV.js";import{P as r}from"./p-D9lurr2W.js";import{_ as n}from"./p-B2eXx90v.js";import"./p-CBK12GNN.js";import"./p-DgA2OfDc.js";const u=e=>{const{title:a}=e,[u,s]=l.useState(e.defaultValue),o=["second","minute","hour","day","week","month","quarter","year"],i={second:"last 1 minute",minute:"last 1 hour",hour:"last 24 hours",day:"last 30 days",week:"last 12 months",month:"last 24 months",quarter:"last 24 months",year:void 0},d=a=>{const t={value:a,dateRange:{to:void 0,from:void 0,relativeTimeString:i[a]}};e.onChange(t),s(a)},m=()=>{var a;const t=[];return(a=o.filter((a=>e[a])))==null||a.forEach((e=>t.push({value:e}))),{isLoading:false,data:t}},p={__type__:"dimension",name:"value",nativeType:"string",title:"Value"};return t.jsx(r,{title:a,children:t.jsx("div",{className:"flex items-center h-10 ",children:t.jsx("div",{className:"grow basis-0 h-full",children:t.jsx(n,{unclearable:true,minDropdownWidth:320,defaultValue:e.defaultValue,options:m(),placeholder:"Granularity",property:p,onChange:e=>d(e)})})})})},s={name:"GranularityPicker",label:"Granularity Picker",defaultWidth:200,defaultHeight:80,classNames:["on-top"],category:"Controls: inputs & dropdowns",inputs:[{name:"defaultValue",type:"granularity",label:"Default granularity",category:"Chart settings"},{name:"title",type:"string",label:"Title",defaultValue:"",category:"Chart settings"},...[{value:"second",defaultValue:false},{value:"minute",defaultValue:false},{value:"hour",defaultValue:false},{value:"day",defaultValue:true},{value:"week",defaultValue:true},{value:"month",defaultValue:true},{value:"quarter",defaultValue:true},{value:"year",defaultValue:true}].map((e=>({name:e.value,type:"boolean",label:`Display ${e.value}`,defaultValue:e.defaultValue,category:"Granularity options"})))],events:[{name:"onChange",label:"Change Granularity",properties:[{name:"value",type:"granularity"},{name:"dateRange",type:"timeRange"}]}],variables:[{name:"granularity",type:"granularity",defaultValue:"day",inputs:["defaultValue"],events:[{name:"onChange",property:"value"}]},{name:"date range",type:"timeRange",defaultValue:{relativeTimeString:"Last 30 days"},events:[{name:"onChange",property:"dateRange"}]}]},o=a(u,s,{props:e=>({...e}),events:{onChange:({value:a,dateRange:t})=>t.relativeTimeString?{value:a,dateRange:t}:{value:a,dateRange:e.noFilter()}}});export{o as default,s as meta};
//# sourceMappingURL=p-C0wHWNzV.js.map